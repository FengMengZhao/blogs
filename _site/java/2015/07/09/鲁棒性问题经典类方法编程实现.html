<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>麦羞 - 鲁棒性问题经典类方法编程实现</title>
  <meta name="author" content="麦羞" />
  <meta name="description" content="The blog of 麦羞" />
  <link rel="canonical" href="/blogs/java/2015/07/09/%E9%B2%81%E6%A3%92%E6%80%A7%E9%97%AE%E9%A2%98%E7%BB%8F%E5%85%B8%E7%B1%BB%E6%96%B9%E6%B3%95%E7%BC%96%E7%A8%8B%E5%AE%9E%E7%8E%B0.html" />
  <!-- <script type="text/javascript" src="//use.typekit.net/jxo0xyj.js"></script> -->
  <!-- <script type="text/javascript">try{Typekit.load();}catch(e){}</script> -->
  <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="/blogs/assets/images/favicon.png">
  <link rel="alternate" type="application/rss+xml" title="麦羞" href="/blogs/atom.xml" />
  <link rel="stylesheet" href="/blogs/assets/css/all.css">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.min.css">
</head>
<body>
  <div class="container">
    <div class="four columns sidebar">
      <nav>
  <h1>博客</h1>
  <a href="/">
      <img src="/blogs/assets/images/fmz-logo2.png" id="logo" alt="Blog logo"/>
  </a>
  <h2>@ <a href="/blogs/resume">麦羞</a>.</h2>
  <hr/>
  <ul>
  <p>在这里我分享我的每一步成长 </p>
  <p>
    我是一名在读研究生
  </p>
  <hr/>
  <div>
    <div id="social">
      Follow me:
<div id="stalker">
  
  <a title="FengMengZhao on Github" href="https://github.com/FengMengZhao">
    <i class="fa fa-github-square"></i>
  </a>
  

  
  <a title="fengmengzhao on Twitter" href="https://twitter.com/fengmengzhao">
    <i class="fa fa-twitter-square"></i>
  </a>
  

  
  <a title="麦羞 on Facebook" href="https://facebook.com/100008350779619">
    <i class="fa fa-facebook-square"></i>
  </a>
  

  
  <a title="麦羞 on Google Plus" href="https://plus.google.com/105478354193409781551">
    <i class="fa fa-google-plus-square"></i>
  </a>
  

</div>

    </div>
  </div>
  </ul>
</nav>

    </div>

    <div class="eleven columns content">
        <p class="meta">
  July 09, 2015
  <a href="/">
    <i class="home fa fa-home"></i>
  </a>
</p>

<h1 class="title">鲁棒性问题经典类方法编程实现</h1>

<div id="post">
  <h2 id="参考程序">参考程序</h2>

<h3 id="主类robustdemo-class">主类(RobustDemo Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">RobustPackage</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">text</span><span class="p">.</span><span class="n">DecimalFormat</span><span class="p">;</span>




<span class="k">public</span> <span class="n">class</span> <span class="n">RobustDemo</span> <span class="p">{</span>

	<span class="k">public</span> <span class="n">static</span> <span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="k">String</span> <span class="n">args</span><span class="p">[]){</span>
		
		<span class="n">int</span> <span class="n">Customer</span>    <span class="p">=</span> <span class="m">100</span><span class="p">;</span>
		<span class="n">double</span> <span class="n">Capacity</span> <span class="p">=</span> <span class="m">500</span><span class="p">;</span>
		<span class="n">double</span> <span class="n">alpha</span>    <span class="p">=</span> <span class="m">0.05</span><span class="p">;</span>
		
		<span class="n">Object</span><span class="p">[]</span> <span class="n">OptValue</span>   <span class="p">=</span> <span class="n">new</span> <span class="n">Object</span><span class="p">[</span><span class="m">50</span><span class="p">];</span>
		<span class="n">Object</span><span class="p">[]</span> <span class="n">Protection</span> <span class="p">=</span> <span class="n">new</span> <span class="n">Object</span><span class="p">[</span><span class="m">50</span><span class="p">];</span>
		
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;=</span><span class="m">10</span><span class="p">;</span> <span class="n">i</span><span class="p">++){</span>
			<span class="k">String</span> <span class="n">Str</span>      <span class="p">=</span> <span class="s2">"C:</span><span class="se">\\</span><span class="s2">Users</span><span class="se">\\</span><span class="s2">fmz</span><span class="se">\\</span><span class="s2">workspace</span><span class="se">\\</span><span class="s2">test</span><span class="se">\\</span><span class="s2">src</span><span class="se">\\</span><span class="s2">RobustPackage</span><span class="se">\\</span><span class="s2">Binary</span><span class="se">\\</span><span class="s2">Instance_"</span><span class="p">+</span><span class="n">Customer</span><span class="p">+</span><span class="s2">"_"</span><span class="p">+</span><span class="n">i</span><span class="p">+</span><span class="s2">".txt"</span><span class="p">;</span>

			<span class="p">//</span><span class="n">RobustBental</span> <span class="n">r</span> <span class="p">=</span> <span class="n">new</span> <span class="n">RobustBental</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">alpha</span><span class="p">);</span>
			
			<span class="n">RobustCentre1</span> <span class="n">r</span> <span class="p">=</span> <span class="n">new</span> <span class="n">RobustCentre1</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">alpha</span><span class="p">);</span>
			<span class="p">//</span><span class="n">RobustCentre2</span> <span class="n">r</span> <span class="p">=</span> <span class="n">new</span> <span class="n">RobustCentre2</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">alpha</span><span class="p">);</span>
			<span class="p">//</span><span class="n">RobustCentre2_1</span> <span class="n">r</span> <span class="p">=</span> <span class="n">new</span> <span class="n">RobustCentre2_1</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">alpha</span><span class="p">);</span>
			
			<span class="p">//</span><span class="n">RobustUncentre1</span> <span class="n">r</span> <span class="p">=</span> <span class="n">new</span> <span class="n">RobustUncentre1</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">alpha</span><span class="p">);</span>
			<span class="p">//</span><span class="n">RobustUncentre2</span> <span class="n">r</span> <span class="p">=</span> <span class="n">new</span> <span class="n">RobustUncentre2</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">alpha</span><span class="p">);</span>
			
			<span class="p">//</span><span class="n">RobustMelvyn1</span>   <span class="n">r</span> <span class="p">=</span> <span class="n">new</span> <span class="n">RobustMelvyn1</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">alpha</span><span class="p">);</span>
			<span class="p">//</span><span class="n">RobustMelvyn2</span>   <span class="n">r</span> <span class="p">=</span> <span class="n">new</span> <span class="n">RobustMelvyn2</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">alpha</span><span class="p">);</span>
			
			<span class="n">DecimalFormat</span> <span class="n">d</span> <span class="p">=</span> <span class="n">new</span> <span class="n">DecimalFormat</span><span class="p">(</span><span class="s2">"#.00"</span><span class="p">);</span>
			<span class="n">OptValue</span><span class="p">[</span><span class="n">i</span><span class="p">-</span><span class="m">1</span><span class="p">]</span>   <span class="p">=</span> <span class="n">d</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">getOptValue</span><span class="p">());</span>
			<span class="n">Protection</span><span class="p">[</span><span class="n">i</span><span class="p">-</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="n">d</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">getProtection</span><span class="p">());</span>
		<span class="p">}</span>
		
	    <span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s2">"OptValue = "</span><span class="p">);</span>
	    <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span> <span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="m">10</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">OptValue</span><span class="p">[</span><span class="n">i</span><span class="p">]+</span><span class="s2">" "</span><span class="p">);</span>
	    <span class="p">}</span>
	    <span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">Protection = "</span><span class="p">);</span>
	    <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span> <span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="m">10</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">Protection</span><span class="p">[</span><span class="n">i</span><span class="p">]+</span><span class="s2">" "</span><span class="p">);</span>
	    <span class="p">}</span>
	
	<span class="p">}</span>
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="数据处理类robust-class">数据处理类(Robust Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">RobustPackage</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">BufferedReader</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">FileReader</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">IOException</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="k">Set</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="n">TreeSet</span><span class="p">;</span>

<span class="k">public</span> <span class="n">abstract</span> <span class="n">class</span> <span class="n">Robust</span> <span class="p">{</span>

	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">Profit</span> <span class="p">;</span>
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">Value</span>  <span class="p">;</span>
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">Nominal</span><span class="p">;</span>
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">Interval</span><span class="p">;</span>
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">UniInterval</span><span class="p">;</span>
	
	<span class="k">public</span> <span class="n">Robust</span><span class="p">(</span><span class="k">String</span> <span class="n">Dir</span><span class="p">,</span> <span class="n">int</span> <span class="n">Customer</span><span class="p">){</span>
		<span class="n">this</span><span class="p">.</span><span class="n">readInstance</span><span class="p">(</span><span class="n">Dir</span><span class="p">,</span> <span class="n">Customer</span><span class="p">);</span>
		<span class="n">this</span><span class="p">.</span><span class="n">setUniInterval</span><span class="p">();</span>
		
	<span class="p">}</span>

	<span class="k">public</span> <span class="n">void</span> <span class="n">readInstance</span><span class="p">(</span><span class="k">String</span> <span class="n">dir</span><span class="p">,</span> <span class="n">int</span> <span class="n">customer</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">this</span><span class="p">.</span><span class="n">Profit</span>  <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
		<span class="n">this</span><span class="p">.</span><span class="n">Value</span>   <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
		<span class="n">this</span><span class="p">.</span><span class="n">Nominal</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
		<span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
	 
		<span class="n">try</span> <span class="p">{</span>
			<span class="n">BufferedReader</span> <span class="n">readTxt</span> <span class="p">=</span> <span class="n">new</span> <span class="n">BufferedReader</span><span class="p">(</span><span class="n">new</span> <span class="n">FileReader</span><span class="p">(</span><span class="n">dir</span><span class="p">));</span>
			<span class="k">String</span> <span class="n">textLine</span> <span class="p">=</span> <span class="n">readTxt</span><span class="p">.</span><span class="n">readLine</span><span class="p">();</span>       <span class="p">//</span><span class="nb">read</span> <span class="n">a</span> <span class="n">line</span> <span class="k">from</span> <span class="p">.</span><span class="n">txt</span> <span class="n">file</span>
			<span class="k">String</span> <span class="n">result</span> <span class="p">=</span> <span class="s2">""</span><span class="p">;</span>
			
			<span class="k">while</span> <span class="p">(</span><span class="n">textLine</span> <span class="c1">!= null) {
</span>				<span class="n">result</span> <span class="p">+=</span> <span class="n">textLine</span><span class="p">;</span>
				<span class="n">textLine</span> <span class="p">=</span> <span class="n">readTxt</span><span class="p">.</span><span class="n">readLine</span><span class="p">();</span>
			<span class="p">}</span>
			<span class="k">String</span><span class="p">[]</span> <span class="n">numbersArray</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s2">" "</span><span class="p">);</span>

			<span class="n">for</span> <span class="p">(</span><span class="n">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">customer</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="p">{</span>
				
					<span class="n">this</span><span class="p">.</span><span class="n">Profit</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>   <span class="p">=</span>  <span class="n">Double</span><span class="p">.</span><span class="n">parseDouble</span><span class="p">(</span><span class="n">numbersArray</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
					<span class="n">this</span><span class="p">.</span><span class="n">Value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>    <span class="p">=</span>  <span class="n">Double</span><span class="p">.</span><span class="n">parseDouble</span><span class="p">(</span><span class="n">numbersArray</span><span class="p">[</span><span class="n">customer</span><span class="p">+</span><span class="n">i</span><span class="p">]);</span>
					<span class="n">this</span><span class="p">.</span><span class="n">Nominal</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>  <span class="p">=</span>  <span class="n">Double</span><span class="p">.</span><span class="n">parseDouble</span><span class="p">(</span><span class="n">numbersArray</span><span class="p">[</span><span class="m">2</span><span class="p">*</span><span class="n">customer</span><span class="p">+</span><span class="n">i</span><span class="p">]);</span>
					<span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span>  <span class="n">Double</span><span class="p">.</span><span class="n">parseDouble</span><span class="p">(</span><span class="n">numbersArray</span><span class="p">[</span><span class="m">3</span><span class="p">*</span><span class="n">customer</span><span class="p">+</span><span class="n">i</span><span class="p">]);</span>
		    
			<span class="p">}</span>
			<span class="n">readTxt</span><span class="p">.</span><span class="n">close</span><span class="p">()</span> <span class="p">;</span>
		<span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">IOException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
		<span class="p">}</span>
		
	<span class="p">}</span>
	
	<span class="n">private</span> <span class="n">void</span> <span class="n">setUniInterval</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">Set</span><span class="p">&lt;</span><span class="n">Double</span><span class="p">&gt;</span> <span class="n">Uni</span> <span class="p">=</span> <span class="n">new</span> <span class="n">TreeSet</span><span class="p">&lt;</span><span class="n">Double</span><span class="p">&gt;();</span>
		<span class="n">Uni</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="m">0.0</span><span class="p">);</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span><span class="n">Interval</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="p">++){</span>
			<span class="n">Uni</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
		<span class="p">}</span>
		<span class="n">Object</span><span class="p">[]</span> <span class="n">obj</span>     <span class="p">=</span> <span class="n">Uni</span><span class="p">.</span><span class="n">toArray</span><span class="p">();</span>
		<span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">obj</span><span class="p">.</span><span class="n">length</span><span class="p">];</span>
		
		 <span class="n">for</span> <span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">j</span><span class="p">&lt;</span><span class="n">UniInterval</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">j</span><span class="p">++){</span>
			 <span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="n">Double</span><span class="p">)</span><span class="n">obj</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
		 <span class="p">}</span>						
	<span class="p">}</span>
	
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="centre-methodrobustcentre1-class">Centre Method(RobustCentre1 Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">RobustPackage</span><span class="p">;</span>

<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloException</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloLinearNumExpr</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloNumVar</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">cplex</span><span class="p">.</span><span class="n">IloCplex</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="k">Set</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="n">TreeSet</span><span class="p">;</span>

    <span class="k">public</span> <span class="n">class</span> <span class="n">RobustCentre1</span> <span class="n">extends</span> <span class="n">Robust</span><span class="p">{</span>
	    <span class="n">private</span> <span class="n">double</span> <span class="n">OptValue</span><span class="p">;</span>
	    <span class="n">private</span> <span class="n">double</span> <span class="n">Protection</span><span class="p">;</span>
	    <span class="n">private</span> <span class="n">double</span><span class="p">[]</span> <span class="n">XValue</span><span class="p">;</span>
	    <span class="k">public</span>  <span class="n">double</span><span class="p">[]</span> <span class="n">W</span><span class="p">;</span>
	
	<span class="k">public</span> <span class="n">RobustCentre1</span><span class="p">(</span><span class="k">String</span> <span class="n">Dir</span><span class="p">,</span> <span class="n">int</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">Capacity</span> <span class="p">,</span> <span class="n">double</span> <span class="n">Alpha</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">super</span><span class="p">(</span><span class="n">Dir</span><span class="p">,</span> <span class="n">Customer</span><span class="p">);</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">setW</span><span class="p">(</span><span class="n">Customer</span><span class="p">);</span>
		<span class="n">this</span><span class="p">.</span><span class="n">solveCplex</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">Alpha</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">public</span> <span class="n">void</span> <span class="n">setW</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">int</span> <span class="n">Iteration</span> <span class="p">=</span> <span class="n">customer</span><span class="p">/</span><span class="m">5</span><span class="p">;</span>        <span class="p">//</span> <span class="err">这里事先设定数据只有五层循环，否则很难算。</span>
		   <span class="k">Set</span><span class="p">&lt;</span><span class="n">Double</span><span class="p">&gt;</span> <span class="n">WTree</span> <span class="p">=</span> <span class="n">new</span> <span class="n">TreeSet</span><span class="p">&lt;</span><span class="n">Double</span><span class="p">&gt;();</span>
		   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">h</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">h</span><span class="p">&lt;=</span><span class="n">Iteration</span><span class="p">;</span> <span class="n">h</span><span class="p">++){</span>
			   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;=</span><span class="n">Iteration</span><span class="p">;</span> <span class="n">i</span><span class="p">++){</span>
				   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">j</span><span class="p">&lt;=</span><span class="n">Iteration</span><span class="p">;</span> <span class="n">j</span><span class="p">++){</span>
					   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="p">&lt;=</span><span class="n">Iteration</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>
						   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">l</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">l</span><span class="p">&lt;=</span><span class="n">Iteration</span><span class="p">;</span> <span class="n">l</span><span class="p">++){</span>
							   
							   <span class="n">WTree</span><span class="p">.</span><span class="n">add</span><span class="p">((</span><span class="n">double</span><span class="p">)</span> <span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">1</span><span class="p">]))*</span><span class="n">h</span><span class="p">+</span>
									     <span class="n">Math</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">2</span><span class="p">]))*</span><span class="n">i</span><span class="p">+</span>
										 <span class="n">Math</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">3</span><span class="p">]))*</span><span class="n">j</span><span class="p">+</span>
										 <span class="n">Math</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">4</span><span class="p">]))*</span><span class="n">k</span><span class="p">+</span>
										 <span class="n">Math</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">5</span><span class="p">]))*</span><span class="n">l</span><span class="p">));</span>
							   
						   <span class="p">}</span>
					   <span class="p">}</span>
				   <span class="p">}</span>
			   <span class="p">}</span>
		   <span class="p">}</span>
		   
		   <span class="n">Object</span><span class="p">[]</span> <span class="n">obj</span>     <span class="p">=</span> <span class="n">WTree</span><span class="p">.</span><span class="n">toArray</span><span class="p">();</span>
			<span class="n">this</span><span class="p">.</span><span class="n">W</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">obj</span><span class="p">.</span><span class="n">length</span><span class="p">];</span>
			
			 <span class="n">for</span> <span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">j</span><span class="p">&lt;</span><span class="n">W</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">j</span><span class="p">++){</span>
				 <span class="n">this</span><span class="p">.</span><span class="n">W</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="n">Double</span><span class="p">)</span><span class="n">obj</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
			 <span class="p">}</span>						 
	<span class="p">}</span>
	
    <span class="k">public</span> <span class="n">void</span> <span class="n">solveCplex</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">double</span> <span class="n">alpha</span><span class="p">)</span> <span class="p">{</span>
		
		<span class="n">double</span> <span class="n">eta</span><span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">XValue</span>     <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span><span class="n">this</span><span class="p">.</span><span class="n">W</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="p">++){</span>	
			
			<span class="n">double</span> <span class="n">logfactorial</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
			
			<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">delta</span><span class="p">=</span><span class="m">1</span><span class="p">;</span> <span class="n">delta</span><span class="p">&lt;=</span><span class="n">customer</span><span class="p">;</span> <span class="n">delta</span><span class="p">++){</span>
				
				<span class="n">logfactorial</span><span class="p">+=</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">delta</span><span class="p">);</span>                       <span class="p">//</span><span class="err">即求</span><span class="n">delta</span><span class="err">的阶乘</span>
				<span class="n">double</span> <span class="n">fw</span> <span class="p">=</span> <span class="p">-</span><span class="m">2</span><span class="p">*</span><span class="n">Math</span><span class="p">.</span><span class="nb">exp</span><span class="p">((</span><span class="n">logfactorial</span><span class="p">+</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">alpha</span><span class="p">))/</span><span class="n">delta</span><span class="p">)*</span>
						       <span class="n">Math</span><span class="p">.</span><span class="nb">exp</span><span class="p">(</span><span class="n">W</span><span class="p">[</span><span class="n">i</span><span class="p">]/</span><span class="n">delta</span><span class="p">);</span>
				<span class="n">double</span> <span class="n">tw</span> <span class="p">=</span> <span class="n">fw</span><span class="p">/</span><span class="n">delta</span><span class="p">;</span>
				
				<span class="n">try</span><span class="p">{</span>
					<span class="n">IloCplex</span> <span class="n">cplex</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloCplex</span><span class="p">();</span>
				     
				     <span class="p">//</span><span class="n">variable</span>
				    <span class="n">IloNumVar</span><span class="p">[]</span> <span class="n">x</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloNumVar</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
				   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">j</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span><span class="n">j</span><span class="p">++){</span>
					       <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">boolVar</span><span class="p">();</span>
				       <span class="p">}</span>
				   
				 <span class="p">//</span><span class="n">objective</span>
				    <span class="n">cplex</span><span class="p">.</span><span class="n">addMaximize</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">scalProd</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Profit</span><span class="p">,</span> <span class="n">x</span><span class="p">));</span>
					
				   <span class="p">//</span><span class="n">constraints</span>
				     <span class="n">IloLinearNumExpr</span> <span class="n">c1</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">linearNumExpr</span><span class="p">();</span>
				     <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">j</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">j</span><span class="p">++){</span>   			
					     <span class="n">c1</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Nominal</span><span class="p">[</span><span class="n">j</span><span class="p">]+</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">j</span><span class="p">]+</span><span class="n">tw</span><span class="p">*</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">j</span><span class="p">]),</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>  			
				 <span class="p">}</span>    		
				     <span class="n">cplex</span><span class="p">.</span><span class="n">addLe</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">capacity</span><span class="p">-</span><span class="n">fw</span><span class="p">+</span><span class="n">tw</span><span class="p">*</span><span class="n">W</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
				     
				     <span class="n">IloLinearNumExpr</span> <span class="n">c2</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">linearNumExpr</span><span class="p">();</span>
				     <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">j</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">j</span><span class="p">++){</span>   			
					     <span class="n">c2</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>  			
				 <span class="p">}</span>    		
				     <span class="n">cplex</span><span class="p">.</span><span class="n">addEq</span><span class="p">(</span><span class="n">c2</span><span class="p">,</span> <span class="n">delta</span><span class="p">);</span>
				     
				     <span class="k">if</span> <span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">solve</span><span class="p">()){</span>
					 <span class="n">int</span> <span class="n">TempProtection</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
					     <span class="p">//</span><span class="k">Record</span> <span class="n">OPT</span>
					    <span class="k">if</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">()&gt;</span><span class="n">OptValue</span><span class="p">){</span>
							
						<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>					    			
							<span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">]=</span><span class="n">cplex</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
							<span class="n">TempProtection</span><span class="p">+=(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]+</span><span class="n">tw</span><span class="p">*</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]))*</span><span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
						<span class="p">}</span>
							
						<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">();</span>
						<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="n">TempProtection</span><span class="p">+</span><span class="n">fw</span><span class="p">-</span><span class="n">tw</span><span class="p">*</span><span class="n">W</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
												
						<span class="p">}</span>
									
				     <span class="p">}</span>
				     <span class="n">cplex</span><span class="p">.</span><span class="k">end</span><span class="p">();</span>
					
			 <span class="p">}</span><span class="n">catch</span> <span class="p">(</span><span class="n">IloException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
			     <span class="p">}</span>
			<span class="p">}</span>				
		<span class="p">}</span>
		
    <span class="p">}</span>
    <span class="k">public</span> <span class="n">double</span> <span class="n">getOptValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">OptValue</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span> <span class="n">getProtection</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">Protection</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">getXValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">XValue</span><span class="p">;</span>		
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="centre-reduce-methodrobustcentre2-class">Centre Reduce Method(RobustCentre2 Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">//</span> <span class="n">Solve</span> <span class="n">centralized</span> <span class="n">Robust</span> <span class="n">combinatorial</span> <span class="n">Problem</span> <span class="k">with</span> <span class="n">Sterling</span> <span class="n">Approximation</span>
<span class="p">//</span> <span class="n">by</span> <span class="n">Zhang</span> <span class="n">Chao</span>
<span class="p">//</span> <span class="m">2015</span><span class="p">/</span><span class="m">4</span><span class="p">/</span><span class="m">19</span>
<span class="k">package</span> <span class="n">RobustPackage</span><span class="p">;</span>

<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloException</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloLinearNumExpr</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloNumVar</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">cplex</span><span class="p">.</span><span class="n">IloCplex</span><span class="p">;</span>

<span class="k">public</span> <span class="n">class</span> <span class="n">RobustCentre2</span> <span class="n">extends</span> <span class="n">Robust</span><span class="p">{</span>
    
	<span class="n">private</span> <span class="n">double</span> <span class="n">OptValue</span><span class="p">;</span>
	<span class="n">private</span> <span class="n">double</span> <span class="n">Protection</span><span class="p">;</span>
	<span class="n">private</span> <span class="n">double</span><span class="p">[]</span> <span class="n">XValue</span><span class="p">;</span>
		
	<span class="k">public</span> <span class="n">RobustCentre2</span><span class="p">(</span><span class="k">String</span> <span class="n">Dir</span><span class="p">,</span> <span class="n">int</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">Capacity</span> <span class="p">,</span> <span class="n">double</span> <span class="n">Alpha</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">super</span><span class="p">(</span><span class="n">Dir</span><span class="p">,</span> <span class="n">Customer</span><span class="p">);</span>		
		<span class="n">this</span><span class="p">.</span><span class="n">solveCplex</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">Alpha</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">public</span> <span class="n">void</span> <span class="n">solveCplex</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">double</span> <span class="n">alpha</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">this</span><span class="p">.</span><span class="n">XValue</span>     <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		
		<span class="n">try</span><span class="p">{</span>
		     <span class="n">IloCplex</span> <span class="n">cplex</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloCplex</span><span class="p">();</span>
		   <span class="p">//</span><span class="n">variables</span>
		     <span class="n">IloNumVar</span><span class="p">[]</span> <span class="n">x</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloNumVar</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
		 <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			     <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">boolVar</span><span class="p">();</span>
		     <span class="p">}</span>
	       <span class="p">//</span><span class="n">objective</span>
		     <span class="n">cplex</span><span class="p">.</span><span class="n">addMaximize</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">scalProd</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Profit</span><span class="p">,</span> <span class="n">x</span><span class="p">));</span>
		  
		   <span class="p">//</span><span class="n">constraints</span>
		     <span class="n">IloLinearNumExpr</span> <span class="n">c1</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">linearNumExpr</span><span class="p">();</span>
		     
		     <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">j</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">j</span><span class="p">++){</span>   			
			     <span class="n">c1</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Nominal</span><span class="p">[</span><span class="n">j</span><span class="p">]+</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">j</span><span class="p">]-</span><span class="m">2</span><span class="p">*</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">1</span><span class="p">]*</span><span class="n">Math</span><span class="p">.</span><span class="nb">exp</span><span class="p">((</span><span class="m">1</span><span class="p">+</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">alpha</span><span class="p">))/</span><span class="n">customer</span><span class="p">-</span><span class="m">1</span><span class="p">),</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>  
			 
		 <span class="p">}</span>    		
			 <span class="n">cplex</span><span class="p">.</span><span class="n">addLe</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">capacity</span><span class="p">);</span>
			 
		     <span class="p">//</span> <span class="k">Record</span> <span class="n">Optimial</span> <span class="n">Value</span> <span class="k">and</span> <span class="n">X</span> <span class="n">Value</span>
			 <span class="k">if</span> <span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">solve</span><span class="p">()){</span>
				 <span class="p">//</span> <span class="n">Optimal</span> <span class="n">Value</span>
				 <span class="n">this</span><span class="p">.</span><span class="n">OptValue</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">();</span>
				 
				 <span class="p">//</span> <span class="n">X</span> <span class="n">Value</span>
				 <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>
					<span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
				<span class="p">}</span>
				<span class="p">//</span> <span class="n">Protection</span> <span class="n">Value</span>
				 <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>
					 <span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">+=</span> <span class="p">(</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]-</span><span class="m">2</span><span class="p">*</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">1</span><span class="p">]*</span><span class="n">Math</span><span class="p">.</span><span class="nb">exp</span><span class="p">((</span><span class="m">1</span><span class="p">+</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">alpha</span><span class="p">))/</span><span class="n">customer</span><span class="p">-</span><span class="m">1</span><span class="p">))*</span><span class="n">cplex</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
					<span class="p">}</span>	        			        				        	 
			 <span class="p">}</span>
			 <span class="n">cplex</span><span class="p">.</span><span class="k">end</span><span class="p">();</span>       
	 <span class="p">}</span><span class="n">catch</span> <span class="p">(</span><span class="n">IloException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
		 <span class="p">}</span>
		
	<span class="p">}</span>

	<span class="k">public</span> <span class="n">double</span> <span class="n">getOptValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">OptValue</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span> <span class="n">getProtection</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">Protection</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">getXValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">XValue</span><span class="p">;</span>		
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="centre-revise-methodrobustcentre2_1-class">Centre Revise Method(RobustCentre2_1 Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">RobustPackage</span><span class="p">;</span>

<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloException</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloLinearNumExpr</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloNumVar</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">cplex</span><span class="p">.</span><span class="n">IloCplex</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">math</span><span class="p">.</span><span class="n">BigDecimal</span><span class="p">;</span>

<span class="k">public</span> <span class="n">class</span> <span class="n">RobustCentre2_1</span> <span class="n">extends</span> <span class="n">Robust</span> <span class="p">{</span>
    <span class="n">private</span> <span class="n">double</span> <span class="n">OptValue</span><span class="p">;</span>
    <span class="n">private</span> <span class="n">double</span> <span class="n">Protection</span><span class="p">;</span>
    <span class="n">private</span> <span class="n">double</span><span class="p">[]</span> <span class="n">XValue</span><span class="p">;</span>
    <span class="k">public</span>  <span class="n">double</span>   <span class="n">W</span><span class="p">;</span>
    
	<span class="k">public</span> <span class="n">RobustCentre2_1</span><span class="p">(</span><span class="k">String</span> <span class="n">Dir</span><span class="p">,</span> <span class="n">int</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">Capacity</span> <span class="p">,</span> <span class="n">double</span> <span class="n">Alpha</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">super</span><span class="p">(</span><span class="n">Dir</span><span class="p">,</span> <span class="n">Customer</span><span class="p">);</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">setW</span><span class="p">(</span><span class="n">Customer</span><span class="p">);</span>
		<span class="n">this</span><span class="p">.</span><span class="n">solveCplex</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">Alpha</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">public</span> <span class="n">void</span> <span class="n">setW</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">double</span> <span class="n">f</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="n">f</span> <span class="p">+=</span> <span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
		<span class="p">}</span> 		
		<span class="n">this</span><span class="p">.</span><span class="n">W</span> <span class="p">=</span> <span class="p">(</span><span class="n">double</span><span class="p">)(</span><span class="n">Math</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">f</span><span class="p">*</span><span class="m">10</span><span class="p">))/</span><span class="m">10</span><span class="p">;</span>           <span class="p">//</span><span class="err">保留一位小数</span>
	<span class="p">}</span>
	
    <span class="k">public</span> <span class="n">void</span> <span class="n">solveCplex</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">double</span> <span class="n">alpha</span><span class="p">)</span> <span class="p">{</span>
		
		<span class="n">double</span> <span class="n">eta</span><span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">XValue</span>     <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		
		<span class="n">for</span><span class="p">(</span><span class="n">double</span> <span class="n">t</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">t</span><span class="p">&lt;=</span><span class="n">this</span><span class="p">.</span><span class="n">W</span><span class="p">;</span> <span class="n">t</span><span class="p">=</span> <span class="n">t</span><span class="p">+</span><span class="m">0.1</span><span class="p">){</span>	
						
				<span class="n">try</span><span class="p">{</span>
					<span class="n">IloCplex</span> <span class="n">cplex</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloCplex</span><span class="p">();</span>
				     
				     <span class="p">//</span><span class="n">variable</span>
				    <span class="n">IloNumVar</span><span class="p">[]</span> <span class="n">x</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloNumVar</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
				   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">j</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span><span class="n">j</span><span class="p">++){</span>
					       <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">boolVar</span><span class="p">();</span>
				       <span class="p">}</span>
				   
				 <span class="p">//</span><span class="n">objective</span>
				    <span class="n">cplex</span><span class="p">.</span><span class="n">addMaximize</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">scalProd</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Profit</span><span class="p">,</span> <span class="n">x</span><span class="p">));</span>
					
				   <span class="p">//</span><span class="n">constraints</span>
				     <span class="n">IloLinearNumExpr</span> <span class="n">c1</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">linearNumExpr</span><span class="p">();</span>
				     <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">j</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">j</span><span class="p">++){</span>   			
					     <span class="n">c1</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Nominal</span><span class="p">[</span><span class="n">j</span><span class="p">]+</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">j</span><span class="p">]-</span><span class="m">2</span><span class="p">*</span><span class="n">Math</span><span class="p">.</span><span class="nb">exp</span><span class="p">(-</span><span class="m">1</span><span class="p">+(</span><span class="m">1</span><span class="p">+</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">alpha</span><span class="p">))/</span><span class="n">customer</span><span class="p">)*</span> 
							   <span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">exp</span><span class="p">(</span><span class="n">t</span><span class="p">)*(</span><span class="m">1</span><span class="p">-</span><span class="n">t</span><span class="p">+</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">j</span><span class="p">]))),</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>  			
				 <span class="p">}</span>    		
				     <span class="n">cplex</span><span class="p">.</span><span class="n">addLe</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">capacity</span><span class="p">);</span>
				     

				     
				     <span class="k">if</span> <span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">solve</span><span class="p">()){</span>
					 <span class="n">int</span> <span class="n">TempProtection</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
					     <span class="p">//</span><span class="k">Record</span> <span class="n">OPT</span>
					    <span class="k">if</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">()&gt;</span><span class="n">OptValue</span><span class="p">){</span>
							
						<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>					    			
							<span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">]=</span><span class="n">cplex</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
							<span class="n">TempProtection</span><span class="p">+=(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]-</span><span class="m">2</span><span class="p">*</span><span class="n">Math</span><span class="p">.</span><span class="nb">exp</span><span class="p">(-</span><span class="m">1</span><span class="p">+(</span><span class="m">1</span><span class="p">+</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">alpha</span><span class="p">))/</span><span class="n">customer</span><span class="p">)*</span> 
									   <span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">exp</span><span class="p">(</span><span class="n">t</span><span class="p">)*(</span><span class="m">1</span><span class="p">-</span><span class="n">t</span><span class="p">+</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]))))*</span><span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
						<span class="p">}</span>
							
						<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">();</span>
						<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="n">TempProtection</span><span class="p">;</span>
												
						<span class="p">}</span>
									
				     <span class="p">}</span>
				     <span class="n">cplex</span><span class="p">.</span><span class="k">end</span><span class="p">();</span>
					
			 <span class="p">}</span><span class="n">catch</span> <span class="p">(</span><span class="n">IloException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
			     <span class="p">}</span>
	    <span class="p">}</span>						
    <span class="p">}</span>

	<span class="k">public</span> <span class="n">double</span> <span class="n">getOptValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">OptValue</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span> <span class="n">getProtection</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">Protection</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">getXValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">XValue</span><span class="p">;</span>		
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="melvyn1-methodrobustmelvyn-class">Melvyn1 Method(RobustMelvyn Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">RobustPackage</span><span class="p">;</span>

<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloException</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloLinearNumExpr</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloNumVar</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">cplex</span><span class="p">.</span><span class="n">IloCplex</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">BufferedReader</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">FileReader</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">IOException</span><span class="p">;</span>

<span class="k">public</span> <span class="n">class</span> <span class="n">RobustMelvyn1</span> <span class="n">extends</span> <span class="n">Robust</span><span class="p">{</span>
	<span class="n">private</span> <span class="n">int</span><span class="p">[]</span> <span class="n">Gamma</span><span class="p">;</span>
    <span class="n">private</span> <span class="n">double</span> <span class="n">OptValue</span><span class="p">;</span>
    <span class="n">private</span> <span class="n">double</span> <span class="n">Protection</span><span class="p">;</span>
    <span class="n">private</span> <span class="n">double</span><span class="p">[]</span> <span class="n">XValue</span><span class="p">;</span>
    
    <span class="k">public</span> <span class="n">RobustMelvyn1</span><span class="p">(</span><span class="k">String</span> <span class="n">Dir</span><span class="p">,</span> <span class="n">int</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">Capacity</span> <span class="p">,</span> <span class="n">double</span> <span class="n">Alpha</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">super</span><span class="p">(</span><span class="n">Dir</span><span class="p">,</span> <span class="n">Customer</span><span class="p">);</span>
	<span class="n">this</span><span class="p">.</span><span class="n">setGamma</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="n">Alpha</span><span class="p">);</span>
	<span class="n">this</span><span class="p">.</span><span class="n">solveCplex</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">Alpha</span><span class="p">);</span>
    <span class="p">}</span>
    
	<span class="k">public</span> <span class="n">void</span> <span class="n">setGamma</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">alpha</span><span class="p">)</span> <span class="p">{</span>
		
		<span class="k">String</span> <span class="n">dir</span>  <span class="p">=</span> <span class="s2">"C:</span><span class="se">\\</span><span class="s2">Users</span><span class="se">\\</span><span class="s2">fmz</span><span class="se">\\</span><span class="s2">workspace</span><span class="se">\\</span><span class="s2">test</span><span class="se">\\</span><span class="s2">src</span><span class="se">\\</span><span class="s2">RobustPackage</span><span class="se">\\</span><span class="s2">Gamma</span><span class="se">\\</span><span class="s2">Gamma_"</span><span class="p">+</span><span class="n">customer</span><span class="p">+</span><span class="s2">"_"</span><span class="p">+</span><span class="n">alpha</span><span class="p">+</span><span class="s2">".txt"</span><span class="p">;</span> 
	    <span class="n">this</span><span class="p">.</span><span class="n">Gamma</span>  <span class="p">=</span> <span class="n">new</span> <span class="n">int</span><span class="p">[</span><span class="n">customer</span><span class="p">+</span><span class="m">1</span><span class="p">];</span>
		<span class="n">try</span> <span class="p">{</span>
			<span class="n">BufferedReader</span> <span class="n">readTxt</span> <span class="p">=</span> <span class="n">new</span> <span class="n">BufferedReader</span><span class="p">(</span><span class="n">new</span> <span class="n">FileReader</span><span class="p">(</span><span class="n">dir</span><span class="p">));</span>
			<span class="k">String</span> <span class="n">textLine</span> <span class="p">=</span> <span class="n">readTxt</span><span class="p">.</span><span class="n">readLine</span><span class="p">();</span>       <span class="p">//</span><span class="nb">read</span> <span class="n">a</span> <span class="n">line</span> <span class="k">from</span> <span class="p">.</span><span class="n">txt</span> <span class="n">file</span>
			<span class="k">String</span> <span class="n">result</span> <span class="p">=</span> <span class="s2">""</span><span class="p">;</span>
			
			<span class="k">while</span> <span class="p">(</span><span class="n">textLine</span> <span class="c1">!= null) {
</span>				<span class="n">result</span> <span class="p">+=</span> <span class="n">textLine</span><span class="p">;</span>
				<span class="n">textLine</span> <span class="p">=</span> <span class="n">readTxt</span><span class="p">.</span><span class="n">readLine</span><span class="p">();</span>
			<span class="p">}</span>
			<span class="k">String</span><span class="p">[]</span> <span class="n">numbersArray</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s2">" "</span><span class="p">);</span>

			<span class="n">for</span> <span class="p">(</span><span class="n">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">customer</span><span class="p">+</span><span class="m">1</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="p">{</span>
				
					<span class="n">this</span><span class="p">.</span><span class="n">Gamma</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>   <span class="p">=</span>  <span class="k">Integer</span><span class="p">.</span><span class="nf">parseInt</span><span class="p">(</span><span class="n">numbersArray</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>

			<span class="p">}</span>
		<span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">IOException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
		<span class="p">}</span>
		
	<span class="p">}</span>
    
	<span class="n">private</span> <span class="n">void</span> <span class="n">solveCplex</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">double</span> <span class="n">alpha</span><span class="p">)</span> <span class="p">{</span>		
		<span class="n">this</span><span class="p">.</span><span class="n">XValue</span>     <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span><span class="n">UniInterval</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="p">++){</span>	
			
				<span class="n">try</span><span class="p">{</span>
				     <span class="n">IloCplex</span> <span class="n">cplex</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloCplex</span><span class="p">();</span>
				     
				     <span class="p">//</span><span class="n">variable</span>
				    <span class="n">IloNumVar</span><span class="p">[]</span> <span class="n">x</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloNumVar</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
				   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span><span class="n">k</span><span class="p">++){</span>
					       <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">boolVar</span><span class="p">();</span>
				       <span class="p">}</span>
				 
				 <span class="p">//</span><span class="n">objective</span>
					    <span class="n">cplex</span><span class="p">.</span><span class="n">addMaximize</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">scalProd</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Profit</span><span class="p">,</span> <span class="n">x</span><span class="p">));</span>
					    
					 <span class="p">//</span><span class="n">constraints</span>
					     <span class="n">IloLinearNumExpr</span> <span class="n">c1</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">linearNumExpr</span><span class="p">();</span>
					     <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>   			
						     <span class="n">c1</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Nominal</span><span class="p">[</span><span class="n">k</span><span class="p">]+</span><span class="n">Math</span><span class="p">.</span><span class="k">max</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]-</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="m">0.0</span><span class="p">),</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>  			
					 <span class="p">}</span>    		
					     <span class="n">cplex</span><span class="p">.</span><span class="n">addLe</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">capacity</span><span class="p">-</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]*</span><span class="n">Gamma</span><span class="p">[</span><span class="n">customer</span><span class="p">]);</span>    
								     
					     <span class="k">if</span> <span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">solve</span><span class="p">()){</span>
						 <span class="n">int</span> <span class="n">TempProtection</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
						     <span class="p">//</span><span class="k">Record</span> <span class="n">OPT</span>
						    <span class="k">if</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">()&gt;</span><span class="n">OptValue</span><span class="p">){</span>
								
							<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>					    			
								<span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">]=</span><span class="n">cplex</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
								<span class="n">TempProtection</span><span class="p">+=</span><span class="n">Math</span><span class="p">.</span><span class="k">max</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]-</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="m">0.0</span><span class="p">)*</span><span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
							<span class="p">}</span>
								
							<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">();</span>
							<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="n">TempProtection</span><span class="p">+</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]*</span><span class="n">Gamma</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
													
							<span class="p">}</span>
										
					     <span class="p">}</span>
				   <span class="n">cplex</span><span class="p">.</span><span class="k">end</span><span class="p">();</span>
			<span class="p">}</span><span class="n">catch</span> <span class="p">(</span><span class="n">IloException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
			<span class="p">}</span>
			
		<span class="p">}</span>
		
	<span class="p">}</span>
    
	<span class="k">public</span> <span class="n">int</span><span class="p">[]</span> <span class="n">getGamma</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">Gamma</span><span class="p">;</span>		
	<span class="p">}</span>

    <span class="k">public</span> <span class="n">double</span> <span class="n">getOptValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">OptValue</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span> <span class="n">getProtection</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">Protection</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">getXValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">XValue</span><span class="p">;</span>		
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="melvyn2-methodrobustmelvyn2-class">Melvyn2 Method(RobustMelvyn2 Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">RobustPackage</span><span class="p">;</span>

<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloException</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloLinearNumExpr</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloNumVar</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">cplex</span><span class="p">.</span><span class="n">IloCplex</span><span class="p">;</span>

<span class="k">public</span> <span class="n">class</span> <span class="n">RobustMelvyn2</span> <span class="n">extends</span> <span class="n">Robust</span><span class="p">{</span>
	<span class="n">private</span> <span class="n">double</span> <span class="n">OptValue</span><span class="p">;</span>
	<span class="n">private</span> <span class="n">double</span> <span class="n">Protection</span><span class="p">;</span>
	<span class="n">private</span> <span class="n">double</span><span class="p">[]</span> <span class="n">XValue</span><span class="p">;</span>
	<span class="k">public</span>  <span class="n">double</span><span class="p">[]</span> <span class="n">W</span><span class="p">;</span>
	
	<span class="k">public</span> <span class="n">RobustMelvyn2</span><span class="p">(</span><span class="k">String</span> <span class="n">Dir</span><span class="p">,</span> <span class="n">int</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">Capacity</span> <span class="p">,</span> <span class="n">double</span> <span class="n">Alpha</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">super</span><span class="p">(</span><span class="n">Dir</span><span class="p">,</span> <span class="n">Customer</span><span class="p">);</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">solveCplex</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">Alpha</span><span class="p">);</span>
	<span class="p">}</span>
	
	<span class="n">private</span> <span class="n">void</span> <span class="n">solveCplex</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">double</span> <span class="n">alpha</span><span class="p">)</span> <span class="p">{</span>
		
		<span class="n">this</span><span class="p">.</span><span class="n">XValue</span>     <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		<span class="n">double</span> <span class="n">Gamma</span> <span class="p">=</span> <span class="m">1.6449</span><span class="p">*</span><span class="n">Math</span><span class="p">.</span><span class="nb">sqrt</span><span class="p">(</span><span class="n">customer</span><span class="p">);</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span><span class="n">UniInterval</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="p">++){</span>	
			
				<span class="n">try</span><span class="p">{</span>
				     <span class="n">IloCplex</span> <span class="n">cplex</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloCplex</span><span class="p">();</span>
				     
				     <span class="p">//</span><span class="n">variable</span>
				    <span class="n">IloNumVar</span><span class="p">[]</span> <span class="n">x</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloNumVar</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
				   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span><span class="n">k</span><span class="p">++){</span>
					       <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">boolVar</span><span class="p">();</span>
				       <span class="p">}</span>
				 
				 <span class="p">//</span><span class="n">objective</span>
					    <span class="n">cplex</span><span class="p">.</span><span class="n">addMaximize</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">scalProd</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Profit</span><span class="p">,</span> <span class="n">x</span><span class="p">));</span>
					    
					 <span class="p">//</span><span class="n">constraints</span>
					     <span class="n">IloLinearNumExpr</span> <span class="n">c1</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">linearNumExpr</span><span class="p">();</span>
					     <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>   			
						     <span class="n">c1</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Nominal</span><span class="p">[</span><span class="n">k</span><span class="p">]+</span><span class="n">Math</span><span class="p">.</span><span class="k">max</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]-</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="m">0.0</span><span class="p">),</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>  			
					 <span class="p">}</span>    		
					     <span class="n">cplex</span><span class="p">.</span><span class="n">addLe</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">capacity</span><span class="p">-</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]*</span><span class="n">Gamma</span><span class="p">);</span>    
								     
					     <span class="k">if</span> <span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">solve</span><span class="p">()){</span>
						 <span class="n">int</span> <span class="n">TempProtection</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
						     <span class="p">//</span><span class="k">Record</span> <span class="n">OPT</span>
						    <span class="k">if</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">()&gt;</span><span class="n">OptValue</span><span class="p">){</span>
								
							<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>					    			
								<span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">]=</span><span class="n">cplex</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
								<span class="n">TempProtection</span><span class="p">+=</span><span class="n">Math</span><span class="p">.</span><span class="k">max</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]-</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="m">0.0</span><span class="p">)*</span><span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
							<span class="p">}</span>
								
							<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">();</span>
							<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="n">TempProtection</span><span class="p">+</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]*</span><span class="n">Gamma</span><span class="p">;</span>
													
							<span class="p">}</span>
										
					     <span class="p">}</span>
				   <span class="n">cplex</span><span class="p">.</span><span class="k">end</span><span class="p">();</span>
			<span class="p">}</span><span class="n">catch</span> <span class="p">(</span><span class="n">IloException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
			<span class="p">}</span>			
		<span class="p">}</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span> <span class="n">getOptValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">OptValue</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span> <span class="n">getProtection</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">Protection</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">getXValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">XValue</span><span class="p">;</span>		
	<span class="p">}</span>
	
<span class="p">}</span>
</code></pre></div></div>

<h3 id="uncentre1-methodrobustuncertre1-class">Uncentre1 Method(RobustUncertre1 Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">RobustPackage</span><span class="p">;</span>

<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloException</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloLinearNumExpr</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloNumVar</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">cplex</span><span class="p">.</span><span class="n">IloCplex</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">BufferedReader</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">FileReader</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.</span><span class="n">IOException</span><span class="p">;</span>

<span class="k">public</span> <span class="n">class</span> <span class="n">RobustUncentre1</span> <span class="n">extends</span> <span class="n">Robust</span><span class="p">{</span>
	<span class="n">private</span> <span class="n">int</span><span class="p">[]</span> <span class="n">Gamma</span><span class="p">;</span>
    <span class="n">private</span> <span class="n">double</span> <span class="n">OptValue</span><span class="p">;</span>
    <span class="n">private</span> <span class="n">double</span> <span class="n">Protection</span><span class="p">;</span>
    <span class="n">private</span> <span class="n">double</span><span class="p">[]</span> <span class="n">XValue</span><span class="p">;</span>
    
	<span class="k">public</span> <span class="n">RobustUncentre1</span><span class="p">(</span><span class="k">String</span> <span class="n">Dir</span><span class="p">,</span> <span class="n">int</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">Capacity</span> <span class="p">,</span> <span class="n">double</span> <span class="n">Alpha</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">super</span><span class="p">(</span><span class="n">Dir</span><span class="p">,</span> <span class="n">Customer</span><span class="p">);</span>
		<span class="n">this</span><span class="p">.</span><span class="n">setGamma</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="n">Alpha</span><span class="p">);</span>
		<span class="n">this</span><span class="p">.</span><span class="n">solveCplex</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">Alpha</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">public</span> <span class="n">void</span> <span class="n">setGamma</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">alpha</span><span class="p">)</span> <span class="p">{</span>
		
		<span class="k">String</span> <span class="n">dir</span>  <span class="p">=</span> <span class="s2">"C:</span><span class="se">\\</span><span class="s2">Users</span><span class="se">\\</span><span class="s2">fmz</span><span class="se">\\</span><span class="s2">workspace</span><span class="se">\\</span><span class="s2">test</span><span class="se">\\</span><span class="s2">src</span><span class="se">\\</span><span class="s2">RobustPackage</span><span class="se">\\</span><span class="s2">Gamma</span><span class="se">\\</span><span class="s2">Gamma_"</span><span class="p">+</span><span class="n">customer</span><span class="p">+</span><span class="s2">"_"</span><span class="p">+</span><span class="n">alpha</span><span class="p">+</span><span class="s2">".txt"</span><span class="p">;</span> 
	    <span class="n">this</span><span class="p">.</span><span class="n">Gamma</span>  <span class="p">=</span> <span class="n">new</span> <span class="n">int</span><span class="p">[</span><span class="n">customer</span><span class="p">+</span><span class="m">1</span><span class="p">];</span>
		<span class="n">try</span> <span class="p">{</span>
			<span class="n">BufferedReader</span> <span class="n">readTxt</span> <span class="p">=</span> <span class="n">new</span> <span class="n">BufferedReader</span><span class="p">(</span><span class="n">new</span> <span class="n">FileReader</span><span class="p">(</span><span class="n">dir</span><span class="p">));</span>
			<span class="k">String</span> <span class="n">textLine</span> <span class="p">=</span> <span class="n">readTxt</span><span class="p">.</span><span class="n">readLine</span><span class="p">();</span>       <span class="p">//</span><span class="nb">read</span> <span class="n">a</span> <span class="n">line</span> <span class="k">from</span> <span class="p">.</span><span class="n">txt</span> <span class="n">file</span>
			<span class="k">String</span> <span class="n">result</span> <span class="p">=</span> <span class="s2">""</span><span class="p">;</span>
			
			<span class="k">while</span> <span class="p">(</span><span class="n">textLine</span> <span class="c1">!= null) {
</span>				<span class="n">result</span> <span class="p">+=</span> <span class="n">textLine</span><span class="p">;</span>
				<span class="n">textLine</span> <span class="p">=</span> <span class="n">readTxt</span><span class="p">.</span><span class="n">readLine</span><span class="p">();</span>
			<span class="p">}</span>
			<span class="k">String</span><span class="p">[]</span> <span class="n">numbersArray</span> <span class="p">=</span> <span class="n">result</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s2">" "</span><span class="p">);</span>

			<span class="n">for</span> <span class="p">(</span><span class="n">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">customer</span><span class="p">+</span><span class="m">1</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="p">{</span>
				
					<span class="n">this</span><span class="p">.</span><span class="n">Gamma</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>   <span class="p">=</span>  <span class="k">Integer</span><span class="p">.</span><span class="nf">parseInt</span><span class="p">(</span><span class="n">numbersArray</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>

			<span class="p">}</span>
		<span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">IOException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
		<span class="p">}</span>
		
	<span class="p">}</span>
	
	<span class="n">private</span> <span class="n">void</span> <span class="n">solveCplex</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">double</span> <span class="n">alpha</span><span class="p">)</span> <span class="p">{</span>		
		<span class="n">this</span><span class="p">.</span><span class="n">XValue</span>     <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span><span class="n">UniInterval</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="p">++){</span>	
			<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">delta</span><span class="p">=</span><span class="m">1</span><span class="p">;</span> <span class="n">delta</span><span class="p">&lt;=</span><span class="n">customer</span><span class="p">;</span> <span class="n">delta</span><span class="p">++){</span>

				<span class="n">try</span><span class="p">{</span>
				     <span class="n">IloCplex</span> <span class="n">cplex</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloCplex</span><span class="p">();</span>
				     
				     <span class="p">//</span><span class="n">variable</span>
				    <span class="n">IloNumVar</span><span class="p">[]</span> <span class="n">x</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloNumVar</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
				   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span><span class="n">k</span><span class="p">++){</span>
					       <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">boolVar</span><span class="p">();</span>
				       <span class="p">}</span>
				 
				 <span class="p">//</span><span class="n">objective</span>
					    <span class="n">cplex</span><span class="p">.</span><span class="n">addMaximize</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">scalProd</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Profit</span><span class="p">,</span> <span class="n">x</span><span class="p">));</span>
					    
					 <span class="p">//</span><span class="n">constraints</span>
					     <span class="n">IloLinearNumExpr</span> <span class="n">c1</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">linearNumExpr</span><span class="p">();</span>
					     <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>   			
						     <span class="n">c1</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Nominal</span><span class="p">[</span><span class="n">k</span><span class="p">]+</span><span class="n">Math</span><span class="p">.</span><span class="k">max</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]-</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="m">0.0</span><span class="p">),</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>  			
					 <span class="p">}</span>    		
					     <span class="n">cplex</span><span class="p">.</span><span class="n">addLe</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">capacity</span><span class="p">-</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]*</span><span class="n">Gamma</span><span class="p">[</span><span class="n">delta</span><span class="p">]);</span>    
				   
					     <span class="n">IloLinearNumExpr</span> <span class="n">c2</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">linearNumExpr</span><span class="p">();</span>
					     <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">j</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">j</span><span class="p">++){</span>   			
						     <span class="n">c2</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>  			
					 <span class="p">}</span>    		
					     <span class="n">cplex</span><span class="p">.</span><span class="n">addEq</span><span class="p">(</span><span class="n">c2</span><span class="p">,</span> <span class="n">delta</span><span class="p">);</span>
					     
					     <span class="k">if</span> <span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">solve</span><span class="p">()){</span>
						 <span class="n">int</span> <span class="n">TempProtection</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
						     <span class="p">//</span><span class="k">Record</span> <span class="n">OPT</span>
						    <span class="k">if</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">()&gt;</span><span class="n">OptValue</span><span class="p">){</span>
								
							<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>					    			
								<span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">]=</span><span class="n">cplex</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>
								<span class="n">TempProtection</span><span class="p">+=</span><span class="n">Math</span><span class="p">.</span><span class="k">max</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]-</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="m">0.0</span><span class="p">)*</span><span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">];</span>
							<span class="p">}</span>
								
							<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">();</span>
							<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="n">TempProtection</span><span class="p">+</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]*</span><span class="n">Gamma</span><span class="p">[</span><span class="n">delta</span><span class="p">];</span>
													
							<span class="p">}</span>
										
					     <span class="p">}</span>
				   <span class="n">cplex</span><span class="p">.</span><span class="k">end</span><span class="p">();</span>
			<span class="p">}</span><span class="n">catch</span> <span class="p">(</span><span class="n">IloException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
			<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">int</span><span class="p">[]</span> <span class="n">getGamma</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">Gamma</span><span class="p">;</span>		
	<span class="p">}</span>


    <span class="k">public</span> <span class="n">double</span> <span class="n">getOptValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">OptValue</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span> <span class="n">getProtection</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">Protection</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">getXValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">XValue</span><span class="p">;</span>		
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="uncentre2-methodrobustuncentre2-class">Uncentre2 Method(RobustUncentre2 Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">RobustPackage</span><span class="p">;</span>

<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloException</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloLinearNumExpr</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloNumVar</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">cplex</span><span class="p">.</span><span class="n">IloCplex</span><span class="p">;</span>

<span class="k">public</span> <span class="n">class</span> <span class="n">RobustUncentre2</span> <span class="n">extends</span> <span class="n">Robust</span><span class="p">{</span>
	<span class="n">private</span> <span class="n">double</span> <span class="n">OptValue</span><span class="p">;</span>
	<span class="n">private</span> <span class="n">double</span> <span class="n">Protection</span><span class="p">;</span>
	<span class="n">private</span> <span class="n">double</span><span class="p">[]</span> <span class="n">XValue</span><span class="p">;</span>
	<span class="k">public</span>  <span class="n">double</span><span class="p">[]</span> <span class="n">W</span><span class="p">;</span>
	
	<span class="k">public</span> <span class="n">RobustUncentre2</span><span class="p">(</span><span class="k">String</span> <span class="n">Dir</span><span class="p">,</span> <span class="n">int</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">Capacity</span> <span class="p">,</span> <span class="n">double</span> <span class="n">Alpha</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">super</span><span class="p">(</span><span class="n">Dir</span><span class="p">,</span> <span class="n">Customer</span><span class="p">);</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">solveCplex</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">Alpha</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">private</span> <span class="n">void</span> <span class="n">solveCplex</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">double</span> <span class="n">alpha</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">double</span> <span class="n">eta</span><span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">XValue</span>     <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span><span class="n">UniInterval</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="p">++){</span>	    	
			<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">j</span><span class="p">&lt;=</span><span class="n">customer</span><span class="p">;</span> <span class="n">j</span><span class="p">++){</span>	
				
				<span class="n">double</span> <span class="n">fw</span> <span class="p">=</span> <span class="m">1.6449</span><span class="p">*</span><span class="n">Math</span><span class="p">.</span><span class="nb">sqrt</span><span class="p">(</span><span class="n">j</span><span class="p">);</span>
				<span class="k">if</span><span class="p">(</span><span class="n">j</span><span class="p">==</span><span class="m">0</span><span class="p">){</span>
				    <span class="n">eta</span> <span class="p">=</span> <span class="m">1.6449</span><span class="p">;</span>				
				    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
				    <span class="n">eta</span> <span class="p">=</span> <span class="m">1.6449</span><span class="p">/(</span><span class="m">2</span><span class="p">*</span><span class="n">Math</span><span class="p">.</span><span class="nb">sqrt</span><span class="p">(</span><span class="n">j</span><span class="p">));</span>	
				    <span class="p">}</span>	
				
				<span class="n">try</span><span class="p">{</span>
				     <span class="n">IloCplex</span> <span class="n">cplex</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloCplex</span><span class="p">();</span>
				     
				     <span class="p">//</span><span class="n">variable</span>
				    <span class="n">IloNumVar</span><span class="p">[]</span> <span class="n">x</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloNumVar</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
				   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span><span class="n">k</span><span class="p">++){</span>
					       <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">boolVar</span><span class="p">();</span>
				       <span class="p">}</span>
				   
				 <span class="p">//</span><span class="n">objective</span>
				    <span class="n">cplex</span><span class="p">.</span><span class="n">addMaximize</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">scalProd</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Profit</span><span class="p">,</span> <span class="n">x</span><span class="p">));</span>
				    
				   <span class="p">//</span><span class="n">constraints</span>
				     <span class="n">IloLinearNumExpr</span> <span class="n">c1</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">linearNumExpr</span><span class="p">();</span>
				     <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>   			
					     <span class="n">c1</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Nominal</span><span class="p">[</span><span class="n">k</span><span class="p">]+</span><span class="n">Math</span><span class="p">.</span><span class="k">max</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]-</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="m">0.0</span><span class="p">)+</span>
							 <span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]*</span><span class="n">eta</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>  			
				 <span class="p">}</span>    		
				     <span class="n">cplex</span><span class="p">.</span><span class="n">addLe</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">capacity</span><span class="p">-</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]*(</span><span class="n">fw</span><span class="p">-</span><span class="n">eta</span><span class="p">*</span><span class="n">j</span><span class="p">));</span>  
				      
				     <span class="k">if</span> <span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">solve</span><span class="p">()){</span>
					 <span class="n">int</span> <span class="n">Temp</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
				       
						<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>
										
							<span class="n">Temp</span> <span class="p">+=</span> <span class="n">cplex</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">])*(</span><span class="n">Math</span><span class="p">.</span><span class="k">max</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]-</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="m">0.0</span><span class="p">)+</span>
									 <span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]*</span><span class="n">eta</span><span class="p">)</span> <span class="p">;</span> 			    		
						<span class="p">}</span>
						
						 <span class="p">//</span><span class="k">Record</span> <span class="n">OPT</span>
						<span class="k">if</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">()&gt;</span><span class="n">OptValue</span><span class="p">){</span>
							
							<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>
								
								<span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">]=</span><span class="n">cplex</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>	
								
							<span class="p">}</span>
							
							    <span class="n">this</span><span class="p">.</span><span class="n">OptValue</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">();</span>
							    <span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="n">Temp</span><span class="p">+</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]*(</span><span class="n">fw</span><span class="p">-</span><span class="n">eta</span><span class="p">*</span><span class="n">j</span><span class="p">);</span>
												
						<span class="p">}</span>
									
				     <span class="p">}</span>
				     <span class="n">cplex</span><span class="p">.</span><span class="k">end</span><span class="p">();</span>
				 <span class="p">}</span><span class="n">catch</span> <span class="p">(</span><span class="n">IloException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
					<span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
				<span class="p">}</span>
			<span class="p">}</span>		 
		<span class="p">}</span>
		
		
		   
		   
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span> <span class="n">getOptValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">OptValue</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span> <span class="n">getProtection</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">Protection</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">getXValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">XValue</span><span class="p">;</span>		
	<span class="p">}</span>
		
<span class="p">}</span>
</code></pre></div></div>

<h3 id="bental-methodrobustbental-class">Bental Method(RobustBental Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">RobustPackage</span><span class="p">;</span>

<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloException</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloLinearNumExpr</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.</span><span class="n">IloNumVar</span><span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">cplex</span><span class="p">.</span><span class="n">IloCplex</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="k">Set</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="n">TreeSet</span><span class="p">;</span>

<span class="k">public</span> <span class="n">class</span> <span class="n">RobustBental</span> <span class="n">extends</span> <span class="n">Robust</span> <span class="p">{</span>
	<span class="n">private</span> <span class="n">double</span> <span class="n">OptValue</span><span class="p">;</span>
	<span class="n">private</span> <span class="n">double</span> <span class="n">Protection</span><span class="p">;</span>
	<span class="n">private</span> <span class="n">double</span><span class="p">[]</span> <span class="n">XValue</span><span class="p">;</span>
	<span class="k">public</span>  <span class="n">double</span><span class="p">[]</span> <span class="n">W</span><span class="p">;</span>
	
	<span class="k">public</span> <span class="n">RobustBental</span><span class="p">(</span><span class="k">String</span> <span class="n">Dir</span><span class="p">,</span> <span class="n">int</span> <span class="n">Customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">Capacity</span> <span class="p">,</span> <span class="n">double</span> <span class="n">Alpha</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">super</span><span class="p">(</span><span class="n">Dir</span><span class="p">,</span> <span class="n">Customer</span><span class="p">);</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">setW</span><span class="p">(</span><span class="n">Customer</span><span class="p">);</span>
		<span class="n">this</span><span class="p">.</span><span class="n">solveCplex</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="n">Capacity</span><span class="p">,</span> <span class="n">Alpha</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">public</span> <span class="n">void</span> <span class="n">setW</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">)</span> <span class="p">{</span>
	   <span class="n">int</span> <span class="n">Iteration</span> <span class="p">=</span> <span class="n">customer</span><span class="p">/</span><span class="m">5</span><span class="p">;</span>        <span class="p">//</span> <span class="err">这里事先设定数据只有五层循环，否则很难算。</span>
	   <span class="k">Set</span><span class="p">&lt;</span><span class="n">Double</span><span class="p">&gt;</span> <span class="n">WTree</span> <span class="p">=</span> <span class="n">new</span> <span class="n">TreeSet</span><span class="p">&lt;</span><span class="n">Double</span><span class="p">&gt;();</span>
	   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">h</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">h</span><span class="p">&lt;=</span><span class="n">Iteration</span><span class="p">;</span> <span class="n">h</span><span class="p">++){</span>
		   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;=</span><span class="n">Iteration</span><span class="p">;</span> <span class="n">i</span><span class="p">++){</span>
			   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">j</span><span class="p">&lt;=</span><span class="n">Iteration</span><span class="p">;</span> <span class="n">j</span><span class="p">++){</span>
				   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">k</span><span class="p">&lt;=</span><span class="n">Iteration</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>
					   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">l</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">l</span><span class="p">&lt;=</span><span class="n">Iteration</span><span class="p">;</span> <span class="n">l</span><span class="p">++){</span>
						   
						   <span class="n">WTree</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">1</span><span class="p">]*</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">1</span><span class="p">]*</span><span class="n">h</span><span class="p">+</span>
								     <span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">2</span><span class="p">]*</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">2</span><span class="p">]*</span><span class="n">i</span><span class="p">+</span>
								     <span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">3</span><span class="p">]*</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">3</span><span class="p">]*</span><span class="n">j</span><span class="p">+</span>
								     <span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">4</span><span class="p">]*</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">4</span><span class="p">]*</span><span class="n">k</span><span class="p">+</span>
								     <span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">5</span><span class="p">]*</span><span class="n">this</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">5</span><span class="p">]*</span><span class="n">l</span><span class="p">);</span>
					   <span class="p">}</span>
				   <span class="p">}</span>
			   <span class="p">}</span>
		   <span class="p">}</span>
		<span class="p">}</span>
	 
		<span class="n">Object</span><span class="p">[]</span> <span class="n">obj</span>     <span class="p">=</span> <span class="n">WTree</span><span class="p">.</span><span class="n">toArray</span><span class="p">();</span>
		<span class="n">this</span><span class="p">.</span><span class="n">W</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">obj</span><span class="p">.</span><span class="n">length</span><span class="p">];</span>
		
		 <span class="n">for</span> <span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">j</span><span class="p">&lt;</span><span class="n">W</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">j</span><span class="p">++){</span>
			 <span class="n">this</span><span class="p">.</span><span class="n">W</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="n">Double</span><span class="p">)</span><span class="n">obj</span><span class="p">[</span><span class="n">j</span><span class="p">];</span>
		 <span class="p">}</span>			
	<span class="p">}</span>

	<span class="k">public</span> <span class="n">void</span> <span class="n">solveCplex</span><span class="p">(</span><span class="n">int</span> <span class="n">customer</span><span class="p">,</span> <span class="n">double</span> <span class="n">capacity</span><span class="p">,</span> <span class="n">double</span> <span class="n">alpha</span><span class="p">)</span> <span class="p">{</span>
		
		<span class="n">double</span> <span class="n">eta</span><span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">XValue</span>     <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>	
		<span class="n">this</span><span class="p">.</span><span class="n">OptValue</span>   <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="m">0.0</span><span class="p">;</span>
		
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="p">&lt;</span><span class="n">this</span><span class="p">.</span><span class="n">W</span><span class="p">.</span><span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="p">++){</span>	    	
		   <span class="k">if</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">W</span><span class="p">[</span><span class="n">i</span><span class="p">]==</span><span class="m">0</span><span class="p">){</span>
			    <span class="n">eta</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nb">sqrt</span><span class="p">(-</span><span class="m">2</span><span class="p">*</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">alpha</span><span class="p">)/</span><span class="n">this</span><span class="p">.</span><span class="n">W</span><span class="p">[</span><span class="m">1</span><span class="p">]);</span>				
			    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
			    <span class="n">eta</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nb">sqrt</span><span class="p">(-</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">alpha</span><span class="p">)/(</span><span class="m">2</span><span class="p">*</span><span class="n">this</span><span class="p">.</span><span class="n">W</span><span class="p">[</span><span class="n">i</span><span class="p">]));</span>	
			    <span class="p">}</span>		
		
		<span class="n">try</span><span class="p">{</span>
		     <span class="n">IloCplex</span> <span class="n">cplex</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloCplex</span><span class="p">();</span>
		     
		     <span class="p">//</span><span class="n">variable</span>
		    <span class="n">IloNumVar</span><span class="p">[]</span> <span class="n">x</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloNumVar</span><span class="p">[</span><span class="n">customer</span><span class="p">];</span>
		   <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">j</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span><span class="n">j</span><span class="p">++){</span>
			       <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">boolVar</span><span class="p">();</span>
		       <span class="p">}</span>
		   
		 <span class="p">//</span><span class="n">objective</span>
		    <span class="n">cplex</span><span class="p">.</span><span class="n">addMaximize</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">scalProd</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Profit</span><span class="p">,</span> <span class="n">x</span><span class="p">));</span>
		    
		   <span class="p">//</span><span class="n">constraints</span>
		     <span class="n">IloLinearNumExpr</span> <span class="n">c1</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">linearNumExpr</span><span class="p">();</span>
		     <span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span> <span class="n">j</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">j</span><span class="p">++){</span>   			
			     <span class="n">c1</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="n">this</span><span class="p">.</span><span class="n">Nominal</span><span class="p">[</span><span class="n">j</span><span class="p">]+</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">j</span><span class="p">]*</span><span class="n">this</span><span class="p">.</span><span class="n">Interval</span><span class="p">[</span><span class="n">j</span><span class="p">]*</span><span class="n">eta</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>  			
		 <span class="p">}</span>    		
		     <span class="n">cplex</span><span class="p">.</span><span class="n">addLe</span><span class="p">(</span><span class="n">c1</span><span class="p">,</span> <span class="n">capacity</span><span class="p">-</span><span class="n">Math</span><span class="p">.</span><span class="nb">sqrt</span><span class="p">(-</span><span class="m">2</span><span class="p">*</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">alpha</span><span class="p">)*</span><span class="n">W</span><span class="p">[</span><span class="n">i</span><span class="p">])+</span><span class="n">W</span><span class="p">[</span><span class="n">i</span><span class="p">]*</span><span class="n">eta</span><span class="p">);</span>  
		      
		     <span class="k">if</span> <span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">solve</span><span class="p">()){</span>
			 <span class="n">int</span> <span class="n">Temp</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
		       
				<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>
								
					<span class="n">Temp</span> <span class="p">+=</span> <span class="n">cplex</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">])*</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">]*</span><span class="n">Interval</span><span class="p">[</span><span class="n">k</span><span class="p">];</span> 			    		
				<span class="p">}</span>
				
				 <span class="p">//</span><span class="k">Record</span> <span class="n">OPT</span>
				<span class="k">if</span><span class="p">(</span><span class="n">Temp</span><span class="p">==</span> <span class="n">W</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">&amp;&amp;</span> <span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">()&gt;</span><span class="n">OptValue</span><span class="p">){</span>
					
					<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">k</span><span class="p">&lt;</span><span class="n">customer</span><span class="p">;</span> <span class="n">k</span><span class="p">++){</span>
						
						<span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">k</span><span class="p">]=</span><span class="n">cplex</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">]);</span>	
						
					<span class="p">}</span>
					
					    <span class="n">this</span><span class="p">.</span><span class="n">OptValue</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">();</span>
					    <span class="n">this</span><span class="p">.</span><span class="n">Protection</span> <span class="p">=</span> <span class="n">Math</span><span class="p">.</span><span class="nb">sqrt</span><span class="p">(-</span><span class="m">2</span><span class="p">*</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">alpha</span><span class="p">)*</span><span class="n">Temp</span><span class="p">);</span>
										
				<span class="p">}</span>
							
		     <span class="p">}</span>
		     <span class="n">cplex</span><span class="p">.</span><span class="k">end</span><span class="p">();</span>
		 <span class="p">}</span><span class="n">catch</span> <span class="p">(</span><span class="n">IloException</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">e</span><span class="p">.</span><span class="n">printStackTrace</span><span class="p">();</span>
		<span class="p">}</span>
		<span class="p">}</span>

	<span class="p">}</span>

	<span class="k">public</span> <span class="n">double</span> <span class="n">getOptValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">OptValue</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span> <span class="n">getProtection</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">Protection</span><span class="p">;</span>		
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">getXValue</span><span class="p">(){</span>		
		<span class="n">return</span> <span class="n">XValue</span><span class="p">;</span>		
	<span class="p">}</span>
	
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <ol>
    <li>上述问题是鲁棒性问题的程序实现，数据的处理是一个父类，被不同的方法继承</li>
    <li>主方法通过不同方法类的实例化来求解不同问题的方法</li>
    <li>主方法能实现循环文件的读取和结果的输出</li>
  </ol>
</blockquote>

<h2 id="自写程序">自写程序</h2>

<h3 id="mainmain-class">Main(Main Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">robust_opt</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">text</span><span class="p">.*;</span>

<span class="k">public</span> <span class="n">class</span> <span class="n">Main</span> <span class="p">{</span>
	<span class="k">public</span> <span class="n">static</span> <span class="n">void</span> <span class="n">main</span><span class="p">(</span><span class="k">String</span> <span class="n">args</span><span class="p">[])</span> <span class="n">throws</span> <span class="n">Exception</span><span class="p">{</span>
		
		<span class="n">double</span><span class="p">[]</span> <span class="n">optValue</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">;</span>
		<span class="n">double</span><span class="p">[]</span> <span class="n">protectValue</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">;</span>
		
		<span class="n">double</span> <span class="n">capacity</span> <span class="p">=</span> <span class="m">500</span> <span class="p">;</span>
		<span class="n">double</span> <span class="err">α</span> <span class="p">=</span> <span class="m">0.05</span> <span class="p">;</span>
		<span class="n">int</span> <span class="n">costomer</span> <span class="p">=</span> <span class="m">100</span>  <span class="p">;</span>
		
		<span class="n">DecimalFormat</span> <span class="n">df</span> <span class="p">=</span> <span class="n">new</span> <span class="n">DecimalFormat</span><span class="p">(</span><span class="s2">"#.##"</span><span class="p">)</span> <span class="p">;</span>
		
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">1</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;=</span><span class="m">1</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="n">Robust_Centre1</span> <span class="n">centre1</span> <span class="p">=</span> <span class="n">new</span> <span class="n">Robust_Centre1</span><span class="p">(</span><span class="s2">"F:</span><span class="se">\\</span><span class="s2">JAVA_WORKPLACE</span><span class="se">\\</span><span class="s2">Test32</span><span class="se">\\</span><span class="s2">src</span><span class="se">\\</span><span class="s2">robust_opt</span><span class="se">\\</span><span class="s2">Binary</span><span class="se">\\</span><span class="s2">Instance_"</span><span class="p">+</span><span class="n">costomer</span><span class="p">+</span><span class="s2">"_"</span><span class="p">+</span><span class="n">i</span><span class="p">+</span><span class="s2">".txt"</span><span class="p">,</span><span class="n">capacity</span><span class="p">,</span><span class="err">α</span><span class="p">)</span> <span class="p">;</span>
			<span class="n">optValue</span><span class="p">[</span><span class="n">i</span><span class="p">-</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="n">centre1</span><span class="p">.</span><span class="n">optValue</span> <span class="p">;</span>
			<span class="n">protectValue</span><span class="p">[</span><span class="n">i</span><span class="p">-</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="n">centre1</span><span class="p">.</span><span class="n">protectValue</span> <span class="p">;</span>
		<span class="p">}</span>
		
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s2">"optValue: "</span><span class="p">)</span> <span class="p">;</span> 
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="m">1</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="n">optValue</span><span class="p">[</span><span class="n">i</span><span class="p">])+</span><span class="s2">" "</span><span class="p">)</span> <span class="p">;</span>
		<span class="p">}</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">()</span> <span class="p">;</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s2">"protectValue: "</span><span class="p">)</span> <span class="p">;</span> 
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="m">1</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">format</span><span class="p">(</span><span class="n">protectValue</span><span class="p">[</span><span class="n">i</span><span class="p">])+</span><span class="s2">" "</span><span class="p">)</span> <span class="p">;</span>
		<span class="p">}</span>
		
		
		<span class="p">/*</span>
		<span class="n">DataProcess_BufferedReader</span> <span class="n">data</span> <span class="p">=</span> <span class="n">new</span> <span class="n">DataProcess_BufferedReader</span><span class="p">(</span><span class="s2">"F:</span><span class="se">\\</span><span class="s2">JAVA_WORKPLACE</span><span class="se">\\</span><span class="s2">Test32</span><span class="se">\\</span><span class="s2">src</span><span class="se">\\</span><span class="s2">robust_opt</span><span class="se">\\</span><span class="s2">Binary</span><span class="se">\\</span><span class="s2">Instance_20_50.txt"</span><span class="p">,</span><span class="m">20</span><span class="p">)</span> <span class="p">;</span>
		<span class="n">DataProcess_InputStream</span> <span class="n">data</span> <span class="p">=</span> <span class="n">new</span> <span class="n">DataProcess_InputStream</span><span class="p">(</span><span class="s2">"F:</span><span class="se">\\</span><span class="s2">JAVA_WORKPLACE</span><span class="se">\\</span><span class="s2">Test32</span><span class="se">\\</span><span class="s2">src</span><span class="se">\\</span><span class="s2">robust_opt</span><span class="se">\\</span><span class="s2">Binary</span><span class="se">\\</span><span class="s2">Instance_20_1.txt"</span><span class="p">)</span> <span class="p">;</span>
		
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">data</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]+</span><span class="s2">"</span><span class="se">\t</span><span class="s2">"</span><span class="p">)</span> <span class="p">;</span>
		<span class="p">}</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">()</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">data</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]+</span><span class="s2">"</span><span class="se">\t</span><span class="s2">"</span><span class="p">)</span> <span class="p">;</span>
		<span class="p">}</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">()</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">data</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">median</span><span class="p">[</span><span class="n">i</span><span class="p">]+</span><span class="s2">"</span><span class="se">\t</span><span class="s2">"</span><span class="p">)</span> <span class="p">;</span>
		<span class="p">}</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">()</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">data</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">interval</span><span class="p">[</span><span class="n">i</span><span class="p">]+</span><span class="s2">"</span><span class="se">\t</span><span class="s2">"</span><span class="p">)</span> <span class="p">;</span>
		<span class="p">}</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">()</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">data</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]+</span><span class="s2">"</span><span class="se">\t</span><span class="s2">"</span><span class="p">)</span> <span class="p">;</span>
		<span class="p">}</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">()</span> <span class="p">;</span>
		
		<span class="n">Robust_Centre1</span> <span class="n">centre1</span> <span class="p">=</span> <span class="n">new</span> <span class="n">Robust_Centre1</span><span class="p">(</span><span class="s2">"F:</span><span class="se">\\</span><span class="s2">JAVA_WORKPLACE</span><span class="se">\\</span><span class="s2">Test32</span><span class="se">\\</span><span class="s2">src</span><span class="se">\\</span><span class="s2">robust_opt</span><span class="se">\\</span><span class="s2">Binary</span><span class="se">\\</span><span class="s2">Instance_100_1.txt"</span><span class="p">)</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">centre1</span><span class="p">.</span><span class="n">UniW</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">centre1</span><span class="p">.</span><span class="n">UniW</span><span class="p">[</span><span class="n">i</span><span class="p">]+</span><span class="s2">"</span><span class="se">\t</span><span class="s2">"</span><span class="p">)</span> <span class="p">;</span> 
		<span class="p">}</span>
		<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">+</span><span class="n">centre1</span><span class="p">.</span><span class="n">UniW</span><span class="p">.</span><span class="n">length</span><span class="p">)</span> <span class="p">;</span>
		<span class="p">*/</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="字符流数据处理dataprocess_bufferedreader-class">字符流数据处理(DataProcess_BufferedReader Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">robust_opt</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.*;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="k">Set</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="n">TreeSet</span><span class="p">;</span>

<span class="k">public</span> <span class="n">class</span> <span class="n">DataProcess_BufferedReader</span><span class="p">{</span>
	<span class="n">double</span><span class="p">[]</span> <span class="n">c</span> <span class="p">=</span> <span class="n">null</span> <span class="p">;</span>
	<span class="n">double</span><span class="p">[]</span> <span class="n">value</span> <span class="p">=</span> <span class="n">null</span> <span class="p">;</span>
	<span class="n">double</span><span class="p">[]</span> <span class="n">median</span> <span class="p">=</span> <span class="n">null</span> <span class="p">;</span>
	<span class="n">double</span><span class="p">[]</span> <span class="n">interval</span> <span class="p">=</span> <span class="n">null</span> <span class="p">;</span>
	<span class="n">double</span><span class="p">[]</span> <span class="n">UniInterval</span> <span class="p">=</span> <span class="n">null</span> <span class="p">;</span>
	
	<span class="k">public</span> <span class="n">DataProcess_BufferedReader</span><span class="p">(</span><span class="k">String</span> <span class="n">str</span><span class="p">,</span><span class="n">int</span> <span class="n">costomer</span><span class="p">)</span> <span class="n">throws</span> <span class="n">Exception</span><span class="p">{</span>
		<span class="n">this</span><span class="p">.</span><span class="n">readInstance</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="n">costomer</span><span class="p">);</span>
		<span class="n">this</span><span class="p">.</span><span class="n">setUniInterval</span><span class="p">()</span> <span class="p">;</span>
	<span class="p">}</span>
	
	
		
	<span class="k">public</span> <span class="n">void</span> <span class="n">readInstance</span><span class="p">(</span><span class="k">String</span> <span class="n">str</span><span class="p">,</span><span class="n">int</span> <span class="n">costomer</span><span class="p">)</span><span class="n">throws</span> <span class="n">Exception</span><span class="p">{</span>
			
		<span class="n">File</span> <span class="n">f</span> <span class="p">=</span> <span class="n">new</span> <span class="n">File</span><span class="p">(</span><span class="n">str</span><span class="p">)</span> <span class="p">;</span>
		<span class="n">Reader</span> <span class="n">r</span> <span class="p">=</span> <span class="n">new</span> <span class="n">FileReader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="p">;</span>
		<span class="n">BufferedReader</span> <span class="n">buf</span> <span class="p">=</span> <span class="n">new</span> <span class="n">BufferedReader</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="p">;</span>
		
		<span class="n">this</span><span class="p">.</span><span class="n">c</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">costomer</span><span class="p">]</span> <span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">value</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">costomer</span><span class="p">]</span> <span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">median</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">costomer</span><span class="p">]</span> <span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">interval</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">costomer</span><span class="p">]</span> <span class="p">;</span>
		
		<span class="k">String</span> <span class="n">s</span> <span class="p">=</span> <span class="s2">""</span> <span class="p">;</span>
		<span class="k">String</span> <span class="n">line</span> <span class="p">=</span> <span class="n">buf</span><span class="p">.</span><span class="n">readLine</span><span class="p">()</span> <span class="p">;</span>
		<span class="k">while</span><span class="p">(</span><span class="n">line</span> <span class="c1">!= null){
</span>			<span class="n">s</span> <span class="p">+=</span> <span class="n">line</span> <span class="p">;</span>
			<span class="n">line</span> <span class="p">=</span> <span class="n">buf</span><span class="p">.</span><span class="n">readLine</span><span class="p">()</span> <span class="p">;</span>
		<span class="p">}</span>
		
		<span class="k">String</span><span class="p">[]</span> <span class="n">split</span> <span class="p">=</span> <span class="n">s</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s2">" "</span><span class="p">)</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">costomer</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">Double</span><span class="p">.</span><span class="n">parseDouble</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">;</span>
			<span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">Double</span><span class="p">.</span><span class="n">parseDouble</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="n">i</span><span class="p">+</span><span class="n">costomer</span><span class="p">])</span> <span class="p">;</span>
			<span class="n">median</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">Double</span><span class="p">.</span><span class="n">parseDouble</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="n">i</span><span class="p">+</span><span class="m">2</span><span class="p">*</span><span class="n">costomer</span><span class="p">])</span> <span class="p">;</span>
			<span class="n">interval</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">Double</span><span class="p">.</span><span class="n">parseDouble</span><span class="p">(</span><span class="n">split</span><span class="p">[</span><span class="n">i</span><span class="p">+</span><span class="m">3</span><span class="p">*</span><span class="n">costomer</span><span class="p">])</span> <span class="p">;</span>
		<span class="p">}</span>
		
		<span class="n">buf</span><span class="p">.</span><span class="n">close</span><span class="p">()</span> <span class="p">;</span>
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">void</span> <span class="n">setUniInterval</span><span class="p">(){</span>
		<span class="k">Set</span><span class="p">&lt;</span><span class="n">Double</span><span class="p">&gt;</span> <span class="n">Uni</span> <span class="p">=</span> <span class="n">new</span> <span class="n">TreeSet</span><span class="p">&lt;</span><span class="n">Double</span><span class="p">&gt;()</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">interval</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="n">Uni</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">interval</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">;</span>
		<span class="p">}</span>
		<span class="n">Object</span><span class="p">[]</span> <span class="n">obj</span> <span class="p">=</span> <span class="n">Uni</span><span class="p">.</span><span class="n">toArray</span><span class="p">()</span> <span class="p">;</span>
		<span class="n">UniInterval</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">obj</span><span class="p">.</span><span class="n">length</span><span class="p">]</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">obj</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="n">double</span><span class="p">)</span><span class="n">obj</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="字节流数据处理dataprocess_inputstream">字节流数据处理(DataProcess_inputStream)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">robust_opt</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">io</span><span class="p">.*;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.*;</span>

<span class="n">class</span> <span class="n">DataProcess_InputStream</span> <span class="p">{</span>
	<span class="n">double</span><span class="p">[]</span> <span class="n">c</span> <span class="p">=</span> <span class="n">null</span> <span class="p">;</span>
	<span class="n">double</span><span class="p">[]</span> <span class="n">value</span> <span class="p">=</span> <span class="n">null</span> <span class="p">;</span>
	<span class="n">double</span><span class="p">[]</span> <span class="n">median</span> <span class="p">=</span> <span class="n">null</span> <span class="p">;</span>
	<span class="n">double</span><span class="p">[]</span> <span class="n">interval</span> <span class="p">=</span> <span class="n">null</span> <span class="p">;</span>
	<span class="n">double</span><span class="p">[]</span> <span class="n">UniInterval</span> <span class="p">=</span> <span class="n">null</span> <span class="p">;</span>
	
	<span class="k">public</span> <span class="n">DataProcess_InputStream</span><span class="p">(</span><span class="k">String</span> <span class="n">str</span><span class="p">)</span> <span class="n">throws</span> <span class="n">Exception</span><span class="p">{</span>
		<span class="n">this</span><span class="p">.</span><span class="n">readInstance</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
		<span class="n">this</span><span class="p">.</span><span class="n">setUniInterval</span><span class="p">()</span> <span class="p">;</span>
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">void</span> <span class="n">readInstance</span><span class="p">(</span><span class="k">String</span> <span class="n">str</span><span class="p">)</span><span class="n">throws</span> <span class="n">Exception</span><span class="p">{</span>
		
		<span class="n">File</span> <span class="n">f</span> <span class="p">=</span> <span class="n">new</span> <span class="n">File</span><span class="p">(</span><span class="n">str</span><span class="p">)</span> <span class="p">;</span>
		<span class="n">InputStream</span> <span class="n">input</span> <span class="p">=</span> <span class="n">new</span> <span class="n">FileInputStream</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="p">;</span>
		<span class="n">byte</span><span class="p">[]</span> <span class="n">b</span> <span class="p">=</span> <span class="n">new</span> <span class="n">byte</span><span class="p">[(</span><span class="n">int</span><span class="p">)</span><span class="n">f</span><span class="p">.</span><span class="n">length</span><span class="p">()]</span> <span class="p">;</span>
		<span class="n">input</span><span class="p">.</span><span class="nb">read</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">;</span>
		<span class="k">String</span> <span class="k">string</span> <span class="p">=</span> <span class="n">new</span> <span class="k">String</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="p">;</span>
		<span class="k">String</span><span class="p">[]</span> <span class="n">split</span> <span class="p">=</span> <span class="k">string</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s2">"</span><span class="se">\r\n</span><span class="s2">"</span><span class="p">)</span> <span class="p">;</span>
		<span class="k">String</span><span class="p">[][]</span> <span class="k">array</span> <span class="p">=</span> <span class="n">new</span> <span class="k">String</span><span class="p">[</span><span class="n">split</span><span class="p">.</span><span class="n">length</span><span class="p">][]</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">split</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="k">array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">split</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">split</span><span class="p">(</span><span class="s2">" "</span><span class="p">)</span> <span class="p">;</span>
		<span class="p">}</span>
		
		<span class="n">int</span> <span class="n">costomer</span> <span class="p">=</span> <span class="k">array</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">length</span> <span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">c</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">costomer</span><span class="p">]</span> <span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">value</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">costomer</span><span class="p">]</span> <span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">median</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">costomer</span><span class="p">]</span> <span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">interval</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">costomer</span><span class="p">]</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="k">array</span><span class="p">[</span><span class="m">0</span><span class="p">].</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">Double</span><span class="p">.</span><span class="n">parseDouble</span><span class="p">(</span><span class="k">array</span><span class="p">[</span><span class="m">0</span><span class="p">][</span><span class="n">i</span><span class="p">])</span> <span class="p">;</span>
			<span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">Double</span><span class="p">.</span><span class="n">parseDouble</span><span class="p">(</span><span class="k">array</span><span class="p">[</span><span class="m">1</span><span class="p">][</span><span class="n">i</span><span class="p">])</span> <span class="p">;</span>
			<span class="n">median</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">Double</span><span class="p">.</span><span class="n">parseDouble</span><span class="p">(</span><span class="k">array</span><span class="p">[</span><span class="m">2</span><span class="p">][</span><span class="n">i</span><span class="p">])</span> <span class="p">;</span>
			<span class="n">interval</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">Double</span><span class="p">.</span><span class="n">parseDouble</span><span class="p">(</span><span class="k">array</span><span class="p">[</span><span class="m">3</span><span class="p">][</span><span class="n">i</span><span class="p">])</span> <span class="p">;</span>
		<span class="p">}</span>
		
		<span class="n">input</span><span class="p">.</span><span class="n">close</span><span class="p">()</span> <span class="p">;</span>
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">void</span> <span class="n">setUniInterval</span><span class="p">(){</span>
		<span class="k">Set</span><span class="p">&lt;</span><span class="n">Double</span><span class="p">&gt;</span> <span class="n">Uni</span> <span class="p">=</span> <span class="n">new</span> <span class="n">TreeSet</span><span class="p">&lt;</span><span class="n">Double</span><span class="p">&gt;()</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">interval</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="n">Uni</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">interval</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">;</span>
		<span class="p">}</span>
		<span class="n">Object</span><span class="p">[]</span> <span class="n">obj</span> <span class="p">=</span> <span class="n">Uni</span><span class="p">.</span><span class="n">toArray</span><span class="p">()</span> <span class="p">;</span>
		<span class="n">UniInterval</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">obj</span><span class="p">.</span><span class="n">length</span><span class="p">]</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">obj</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="n">UniInterval</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="n">double</span><span class="p">)</span><span class="n">obj</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="centre1-methodrobust_centre1-class">Centre1 Method(Robust_Centre1 Class)</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">robust_opt</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.*</span> <span class="p">;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">concert</span><span class="p">.*;</span>
<span class="n">import</span> <span class="n">ilog</span><span class="p">.</span><span class="n">cplex</span><span class="p">.*;</span>

<span class="k">public</span> <span class="n">class</span> <span class="n">Robust_Centre1</span> <span class="n">extends</span> <span class="n">DataProcess_InputStream</span> <span class="p">{</span>
	
	<span class="k">public</span> <span class="n">double</span> <span class="n">optValue</span> <span class="p">=</span> <span class="m">0</span> <span class="p">;</span>
	<span class="k">public</span> <span class="n">double</span> <span class="n">protectValue</span> <span class="p">=</span> <span class="m">0</span> <span class="p">;</span>
	<span class="k">public</span> <span class="n">int</span><span class="p">[]</span> <span class="n">XValue</span> <span class="p">=</span> <span class="n">null</span> <span class="p">;</span>
	<span class="k">public</span> <span class="n">double</span><span class="p">[]</span> <span class="n">UniW</span> <span class="p">=</span> <span class="n">null</span> <span class="p">;</span>
	
	
	<span class="k">public</span> <span class="n">Robust_Centre1</span><span class="p">(</span><span class="k">String</span> <span class="n">str</span><span class="p">,</span><span class="n">double</span> <span class="n">capacity</span><span class="p">,</span><span class="n">double</span> <span class="err">α</span><span class="p">)</span> <span class="n">throws</span> <span class="n">Exception</span> <span class="p">{</span>
		<span class="n">super</span><span class="p">(</span><span class="n">str</span><span class="p">)</span> <span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">setW</span><span class="p">()</span> <span class="p">;</span>
		<span class="n">this</span><span class="p">.</span><span class="n">methodCentre1</span><span class="p">(</span><span class="n">capacity</span><span class="p">,</span> <span class="err">α</span><span class="p">);</span>
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">void</span> <span class="n">methodCentre1</span><span class="p">(</span><span class="n">double</span> <span class="n">capacity</span><span class="p">,</span><span class="n">double</span> <span class="err">α</span><span class="p">){</span>
		
	<span class="n">int</span> <span class="n">costomer</span> <span class="p">=</span> <span class="n">c</span><span class="p">.</span><span class="n">length</span> <span class="p">;</span>
	<span class="n">int</span><span class="p">[]</span> <span class="err">δ</span> <span class="p">=</span> <span class="n">new</span> <span class="n">int</span><span class="p">[</span><span class="n">costomer</span><span class="p">]</span> <span class="p">;</span>
	<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">costomer</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
		<span class="err">δ</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">i</span><span class="p">+</span><span class="m">1</span> <span class="p">;</span>
	<span class="p">}</span>
	
	<span class="n">this</span><span class="p">.</span><span class="n">XValue</span> <span class="p">=</span> <span class="n">new</span> <span class="n">int</span><span class="p">[</span><span class="n">costomer</span><span class="p">]</span> <span class="p">;</span>
	
	<span class="n">double</span><span class="p">[][]</span> <span class="n">f</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">UniW</span><span class="p">.</span><span class="n">length</span><span class="p">][</span><span class="err">δ</span><span class="p">.</span><span class="n">length</span><span class="p">]</span> <span class="p">;</span>
	<span class="n">double</span><span class="p">[][]</span> <span class="err">η</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">UniW</span><span class="p">.</span><span class="n">length</span><span class="p">][</span><span class="err">δ</span><span class="p">.</span><span class="n">length</span><span class="p">]</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">w</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">w</span><span class="p">&lt;</span><span class="n">UniW</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">w</span><span class="p">++){</span>
			<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="err">Δ</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="err">Δ</span><span class="p">&lt;</span><span class="err">δ</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="err">Δ</span><span class="p">++){</span>
				<span class="n">try</span><span class="p">{</span>
					<span class="n">IloCplex</span> <span class="n">cplex</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloCplex</span><span class="p">()</span> <span class="p">;</span>
					<span class="n">IloNumVar</span><span class="p">[]</span> <span class="n">x</span> <span class="p">=</span> <span class="n">new</span> <span class="n">IloNumVar</span><span class="p">[</span><span class="n">costomer</span><span class="p">]</span> <span class="p">;</span>
					<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">x</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
						<span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">boolVar</span><span class="p">()</span> <span class="p">;</span>
					<span class="p">}</span>
					<span class="n">double</span> <span class="n">lg_factorial_</span><span class="err">η</span> <span class="p">=</span> <span class="m">0</span> <span class="p">;</span>	
					<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="err">δ</span><span class="p">[</span><span class="err">Δ</span><span class="p">];</span><span class="n">i</span><span class="p">++){</span>
						<span class="n">lg_factorial_</span><span class="err">η</span> <span class="p">+=</span> <span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">i</span><span class="p">+</span><span class="m">1</span><span class="p">)</span> <span class="p">;</span>
					<span class="p">}</span>
					<span class="n">f</span><span class="p">[</span><span class="n">w</span><span class="p">][</span><span class="err">Δ</span><span class="p">]</span> <span class="p">=</span> <span class="p">(-</span><span class="m">2</span><span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="n">pow</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="n">E</span><span class="p">,(</span><span class="n">lg_factorial_</span><span class="err">η</span> <span class="p">+</span> <span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="err">α</span><span class="p">))</span> <span class="p">/</span> <span class="err">δ</span><span class="p">[</span><span class="err">Δ</span><span class="p">]</span> <span class="p">)</span> <span class="p">*</span> <span class="n">Math</span><span class="p">.</span><span class="n">pow</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="n">E</span><span class="p">,</span> <span class="n">UniW</span><span class="p">[</span><span class="n">w</span><span class="p">]/</span><span class="err">δ</span><span class="p">[</span><span class="err">Δ</span><span class="p">])</span> <span class="p">;</span>
					<span class="err">η</span><span class="p">[</span><span class="n">w</span><span class="p">][</span><span class="err">Δ</span><span class="p">]</span> <span class="p">=</span> <span class="n">f</span><span class="p">[</span><span class="n">w</span><span class="p">][</span><span class="err">Δ</span><span class="p">]</span> <span class="p">/</span> <span class="err">δ</span><span class="p">[</span><span class="err">Δ</span><span class="p">]</span> <span class="p">;</span>
						
					<span class="n">IloLinearNumExpr</span> <span class="n">e1</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">linearNumExpr</span><span class="p">()</span> <span class="p">;</span>
					<span class="n">IloLinearNumExpr</span> <span class="n">e2</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">linearNumExpr</span><span class="p">()</span> <span class="p">;</span>
					<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">costomer</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
						<span class="n">e1</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="n">median</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">;</span>
						<span class="n">e1</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="n">interval</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">;</span>
						<span class="n">e1</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">interval</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">*</span> <span class="err">η</span><span class="p">[</span><span class="n">w</span><span class="p">][</span><span class="err">Δ</span><span class="p">]),</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
						<span class="n">e2</span><span class="p">.</span><span class="n">addTerm</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
					<span class="p">}</span>
						
					<span class="n">cplex</span><span class="p">.</span><span class="n">addLe</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">capacity</span> <span class="p">+</span> <span class="err">η</span><span class="p">[</span><span class="n">w</span><span class="p">][</span><span class="err">Δ</span><span class="p">]*</span><span class="n">UniW</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="p">-</span> <span class="n">f</span><span class="p">[</span><span class="n">w</span><span class="p">][</span><span class="err">Δ</span><span class="p">])</span> <span class="p">;</span>
					<span class="n">cplex</span><span class="p">.</span><span class="n">addEq</span><span class="p">(</span><span class="n">e2</span><span class="p">,</span> <span class="err">δ</span><span class="p">[</span><span class="err">Δ</span><span class="p">])</span> <span class="p">;</span>
						
					<span class="n">cplex</span><span class="p">.</span><span class="n">addMaximize</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">scalProd</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span> <span class="p">;</span>
						
					<span class="k">if</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">solve</span><span class="p">()){</span>
						<span class="n">double</span> <span class="n">tempProtectValue</span> <span class="p">=</span> <span class="m">0</span> <span class="p">;</span>
						<span class="k">if</span><span class="p">(</span><span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">()</span> <span class="p">&gt;</span> <span class="n">this</span><span class="p">.</span><span class="n">optValue</span><span class="p">){</span>
							<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">costomer</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
								<span class="n">this</span><span class="p">.</span><span class="n">XValue</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="n">int</span><span class="p">)</span> <span class="n">cplex</span><span class="p">.</span><span class="nf">getValue</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">;</span>
								<span class="n">tempProtectValue</span> <span class="p">=</span> <span class="p">(</span><span class="n">interval</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">+</span> <span class="err">η</span><span class="p">[</span><span class="n">w</span><span class="p">][</span><span class="err">Δ</span><span class="p">]*</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">interval</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span> <span class="p">*</span> <span class="n">XValue</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">;</span>
							<span class="p">}</span>
						<span class="n">this</span><span class="p">.</span><span class="n">optValue</span> <span class="p">=</span> <span class="n">cplex</span><span class="p">.</span><span class="n">getObjValue</span><span class="p">()</span> <span class="p">;</span>
						<span class="n">this</span><span class="p">.</span><span class="n">protectValue</span> <span class="p">=</span> <span class="n">tempProtectValue</span> <span class="p">+</span> <span class="n">f</span><span class="p">[</span><span class="n">w</span><span class="p">][</span><span class="err">Δ</span><span class="p">]</span> <span class="p">-</span> <span class="err">η</span><span class="p">[</span><span class="n">w</span><span class="p">][</span><span class="err">Δ</span><span class="p">]*</span><span class="n">UniW</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="p">;</span>
							
						<span class="n">cplex</span><span class="p">.</span><span class="n">output</span><span class="p">().</span><span class="n">println</span><span class="p">(</span><span class="s2">"Solution Status = "</span><span class="p">+</span><span class="n">cplex</span><span class="p">.</span><span class="nf">getStatus</span><span class="p">())</span> <span class="p">;</span>
						<span class="p">}</span>
						<span class="n">cplex</span><span class="p">.</span><span class="k">end</span><span class="p">()</span> <span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span><span class="n">catch</span><span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">){</span>
					<span class="nf">System</span><span class="p">.</span><span class="n">out</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="p">;</span>
				<span class="p">}</span>		
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	
	<span class="k">public</span> <span class="n">void</span> <span class="n">setW</span><span class="p">(){</span>
		<span class="k">Set</span><span class="p">&lt;</span><span class="n">Double</span><span class="p">&gt;</span> <span class="n">Uni</span> <span class="p">=</span> <span class="n">new</span> <span class="n">TreeSet</span><span class="p">&lt;</span><span class="n">Double</span><span class="p">&gt;()</span> <span class="p">;</span>
		
		<span class="n">int</span> <span class="n">iteration</span> <span class="p">=</span> <span class="n">c</span><span class="p">.</span><span class="n">length</span><span class="p">/</span><span class="m">5</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">iteration</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">j</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">j</span><span class="p">&lt;</span><span class="n">iteration</span><span class="p">;</span><span class="n">j</span><span class="p">++){</span>
				<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">k</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">k</span><span class="p">&lt;</span><span class="n">iteration</span><span class="p">;</span><span class="n">k</span><span class="p">++){</span>
					<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">l</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">l</span><span class="p">&lt;</span><span class="n">iteration</span><span class="p">;</span><span class="n">l</span><span class="p">++){</span>
						<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">m</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">m</span><span class="p">&lt;</span><span class="n">iteration</span><span class="p">;</span><span class="n">m</span><span class="p">++){</span>
							<span class="n">Uni</span><span class="p">.</span><span class="n">add</span><span class="p">((</span><span class="n">double</span><span class="p">)(</span><span class="n">Math</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">0</span><span class="p">])*</span><span class="n">i</span><span class="p">)+</span>
											 <span class="n">Math</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">1</span><span class="p">])*</span><span class="n">j</span><span class="p">)+</span>
											 <span class="n">Math</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">2</span><span class="p">])*</span><span class="n">k</span><span class="p">)+</span>
											 <span class="n">Math</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">3</span><span class="p">])*</span><span class="n">l</span><span class="p">)+</span>
											 <span class="n">Math</span><span class="p">.</span><span class="nb">round</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="nb">log</span><span class="p">(</span><span class="n">UniInterval</span><span class="p">[</span><span class="m">4</span><span class="p">])*</span><span class="n">m</span><span class="p">))</span>
											<span class="p">)</span> <span class="p">;</span>
						<span class="p">}</span>
					<span class="p">}</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="n">Object</span><span class="p">[]</span> <span class="n">obj</span> <span class="p">=</span> <span class="n">Uni</span><span class="p">.</span><span class="n">toArray</span><span class="p">()</span> <span class="p">;</span>
		<span class="n">UniW</span> <span class="p">=</span> <span class="n">new</span> <span class="n">double</span><span class="p">[</span><span class="n">obj</span><span class="p">.</span><span class="n">length</span><span class="p">]</span> <span class="p">;</span>
		<span class="n">for</span><span class="p">(</span><span class="n">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="n">obj</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="n">i</span><span class="p">++){</span>
			<span class="n">UniW</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="n">double</span><span class="p">)</span><span class="n">obj</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
	
	<span class="p">/*</span>
	<span class="k">public</span> <span class="n">long</span> <span class="n">factorial</span><span class="p">(</span><span class="n">int</span> <span class="n">n</span><span class="p">){</span>
		<span class="n">long</span> <span class="n">facorial</span> <span class="p">=</span> <span class="m">0</span> <span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="n">n</span> <span class="p">==</span> <span class="m">0</span> <span class="p">||</span> <span class="n">n</span> <span class="p">==</span> <span class="m">1</span><span class="p">){</span>
			<span class="n">facorial</span> <span class="p">=</span> <span class="m">1</span> <span class="p">;</span>
		<span class="p">}</span><span class="k">else</span><span class="p">{</span>
			<span class="n">facorial</span> <span class="p">=</span> <span class="n">n</span> <span class="p">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="p">-</span><span class="m">1</span><span class="p">)</span> <span class="p">;</span>
		<span class="p">}</span>
		<span class="n">return</span> <span class="n">facorial</span> <span class="p">;</span>
	<span class="p">}</span>
	<span class="p">*/</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <ol>
    <li>字节流和字符流都能够实现数据的读取，注意采用字符流时要数据的格式在换行时毕字节流更为严格.</li>
    <li>运用阶乘方法的时候，会有数据溢出的情况出现，注意转化</li>
  </ol>
</blockquote>

</div>

      <div class="footer">
        <div class="disclaimer">
  
  <p>
    The postings on this site are my own and I am only responsible for myself
  </p>
  

  <p>
    © 麦羞, 2017 &mdash; built with Jekyll based on Github
  </p>
</div>

      </div>
    </div>
  </div>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34087103-1']);
  
  _gaq.push(['_setDomainName', 'lenage.com']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


<script type="text/javascript" src="/blogs/assets/scripts/MathJax-2.0-min.js"></script>
<script type="text/javascript" src="/blogs/assets/scripts/jquery-1.11.3.min.js"></script>
<script>
  $(function(){
    var $category = $('ul#java-posts li:gt(8):not(:last)');
    $category.hide();
    var $toggleBtn=$('div.java-showmore > a') ;
    $toggleBtn.click(function(){
      if($category.is(":visible")){
            $category.hide() ;
            $('div.java-showmore a span')
              .text("More...") ;
          }else{
            $category.show() ;
            $('div.java-showmore a span')
            .text("Less") ;
          }
          return false ;
    })
  })

  $(function(){
    var $category = $('ul#diary-posts li:gt(8):not(:last)');
    $category.hide();
    var $toggleBtn=$('div.diary-showmore > a') ;
    $toggleBtn.click(function(){
      if($category.is(":visible")){
            $category.hide() ;
            $('div.diary-showmore a span')
              .text("More...") ;
          }else{
            $category.show() ;
            $('div.diary-showmore a span')
            .text("Less") ;
          }
          return false ;
    })
  })
</script>

</body>
</html>
